var ve=Object.defineProperty;var we=(a,g,m)=>g in a?ve(a,g,{enumerable:!0,configurable:!0,writable:!0,value:m}):a[g]=m;var T=(a,g,m)=>(we(a,typeof g!="symbol"?g+"":g,m),m),q=(a,g,m)=>{if(!g.has(a))throw TypeError("Cannot "+m)};var p=(a,g,m)=>(q(a,g,"read from private field"),m?m.call(a):g.get(a)),x=(a,g,m)=>{if(g.has(a))throw TypeError("Cannot add the same private member more than once");g instanceof WeakSet?g.add(a):g.set(a,m)},P=(a,g,m,O)=>(q(a,g,"write to private field"),O?O.call(a,m):g.set(a,m),m);var B=(a,g,m)=>(q(a,g,"access private method"),m);var plumejs=function(a){var I,te;"use strict";const g=e=>!!e&&typeof e.subscribe=="function",m=e=>!!e&&typeof e.then=="function",O=e=>{const t=e.toString().split(/constructor\s*[^\(]*\(\s*([^\)]*)\)/m);return t.length===3?t[1].split(",").map(s=>s.trim()):[]},ie=(()=>{try{return new CSSStyleSheet,!0}catch{return!1}})(),oe=e=>({subscribe:t=>{t(e)}}),ce=e=>({subscribe:t=>{Promise.resolve(e).then(s=>{t(s)})}}),W=()=>Math.random().toString(36).substring(2);class K{constructor(){T(this,"_callbackCollection",{})}unsubscribe(t){delete this._callbackCollection[t]}asObservable(){return{subscribe:t=>this.subscribe(t)}}subscribe(t){const s=W();return this._callbackCollection[s]=t,()=>this.unsubscribe(s)}next(t){for(const s in this._callbackCollection)this._callbackCollection[s](t)}}class ae extends K{constructor(s){super();T(this,"_initialValue");this._initialValue=s}subscribe(s){const c=super.subscribe(s);return super.next(this._initialValue),c}next(s){this._initialValue=s,super.next(s)}}class Y{constructor(){T(this,"_subcribers",[])}add(t){this._subcribers.push(t)}unsubscribe(){for(const t of this._subcribers)t();this._subcribers=[]}}const le=e=>g(e)?e:m(e)?ce(Promise.resolve(e)):oe(e),$=(e,t,s,c=!1)=>(e.addEventListener(t,s,c),()=>{e.removeEventListener(t,s,c)}),ue=e=>{const t=()=>new DOMParser().parseFromString(e,"text/html").body||document.createElement("body"),s=y=>{const v=y.querySelectorAll("script");for(const A of v)A.remove()},c=(y,v)=>{if(v=v.replace(/\s+/g,"").toLowerCase(),["src","href","xlink:href"].includes(y)&&(v.includes("javascript:")||v.includes("data:"))||y.startsWith("on"))return!0},h=y=>{const v=y.attributes;for(const{name:A,value:J}of v)c(A,J)&&y.removeAttribute(A)},b=y=>{const v=y.children;for(const A of v)h(A),b(A)},f=t();return s(f),b(f),f.innerHTML},de=(e,t)=>{const s=O(t),c=()=>({get(h,b){const f=Object.prototype.toString.call(h[b]);return["[object Object]","[object Array]"].indexOf(f)>-1&&!("__metadata__"in h[b])?new Proxy(h[b],c()):h[b]},set(h,b,f){return h[b]=f,e(),!0}});return class extends t{constructor(...h){return super(...h),h.forEach((b,f)=>{s[f]&&s[f]!=="undefined"&&(this[s[f]]=b)}),new Proxy(this,c())}}},he=()=>{let e;return[new Promise(s=>{e=s}),e]},fe=e=>typeof e=="function",Q=Object.create(null);let L=null;function be(e,t){const s=L;let c;L=W(),Q[L]=e;try{t()}finally{c=L,L=s}return c}function ge(e){const t=Q[L];let s=e;function c(){return s}return c.set=function(h){fe(h)?s=h(s):s=h;try{t()}catch{}},c}function ye(e,t){const s=be(e,t);return function(){delete Q[s]}}const G=new(te=class{constructor(){x(this,I,void 0);P(this,I,new WeakMap)}register(e,t){if(!p(this,I).get(e))p(this,I).set(e,t);else throw console.error(e),"service already exists"}getService(e){const t=p(this,I).get(e);if(t)return t;throw console.error(e),"service is not a registered service."}clear(){P(this,I,new WeakMap)}},I=new WeakMap,te),X=(e,t,s)=>{if(t.length>0){const c=[];for(const f of t)f.prototype.__metadata__.name!=="RENDERER"?c.push(G.getService(f)):c.push(s);const h=O(e),b=new e(...c);return t.forEach((f,y)=>{b[h[y]]=c[y]}),b}else return new e},M=new class{constructor(){T(this,"globalStyles");T(this,"globalStyleTag");T(this,"style_registry");T(this,"isRootNodeSet");try{this.globalStyles=new CSSStyleSheet}catch{this.globalStyles=""}this.isRootNodeSet=!1,this.globalStyleTag=null}getComputedCss(e=""){let t=[];const s=new CSSStyleSheet;if(s.insertRule(":host { display: block; }"),t=[this.globalStyles,s],e){const c=new CSSStyleSheet;c.replace(e),t.push(c)}return t}},{html:pe,render:Z}=(()=>{const e=/([^\s\\>"'=]+)\s*=\s*(['"]?)$/,t=/<[a-z][^>]+$/i,s="attr",c=/^attr([^ ]+)/,h="insertNode",b=/^insertNode([^ ]+)/;let f=[],y=[];const v=r=>{const n={"&":"&amp;","<":"&lt;",">":"&gt;","(":"%28",")":"%29"};let i=JSON.stringify(r);const o=u=>n[u]||u;return i=(u=>u.replace(/[&<>\(\)]/g,o))(i),JSON.parse(i)},A=(r,n)=>{const i=r.options,o=Array.isArray(n)?n:[n];let d,u,l=i.length;for(;l--;){u=i[l];const w=u.getAttribute("value")??(u.textContent.match(/[^\x20\t\r\n\f]+/g)||[]).join(" ");(u.selected=o.indexOf(w)>-1)&&(d=!0)}d||(r.selectedIndex=-1)},J=r=>{const n=document.createElement("template");return n.innerHTML=r,n.content},j=(r,n,i)=>{const o=()=>{setTimeout(()=>{if(r.isConnected){const d=new CustomEvent("bindprops",{detail:{props:n},bubbles:!1});r.dispatchEvent(d)}})};r[i]=JSON.stringify(n),y.push(o)},D=(r,n,i)=>{switch(!0){case/attrs/.test(n):{const o=i.attrs;for(const d in o)D(r,d,o[d]);break}case/^on+/.test(n):{const o=n.slice(2).toLowerCase();r.removeEventListener(o,i),r.addEventListener(o,i);break}case/ref/.test(n):{const o=function(){this.node.isConnected&&this.fn(this.node)}.bind({node:r,fn:i});f.push(o);break}case/key/.test(n):{r[Symbol("key")]=i;break}case/^data-+/.test(n):case/^aria-+/.test(n):{n==="data-input"?j(r,i,Symbol("input")):r.setAttribute(n,v(i));break}case/class/.test(n):{i?r.classList.add(...i.split(" ")):r.setAttribute("class","");break}case/value/.test(n):{r.nodeName.toLowerCase()==="select"?A(r,i):r.value=v(i);break}case/disabled/.test(n):case/checked/.test(n):{i?r.setAttribute(n,i):r.removeAttribute(n);break}default:r.setAttribute(n,v(i))}},S=(r,n)=>{const i=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,null);let o=i.nextNode();for(;o;){if(o.hasAttributes()){const d=Array.from(o.attributes).filter(u=>c.test(u.nodeName));for(const{nodeName:u,nodeValue:l}of d){const w=c.exec(u)[1];D(o,l,n[w]),o.removeAttribute(u)}}o=i.nextNode()}},E=(r,n)=>{const i=document.createTreeWalker(r,NodeFilter.SHOW_COMMENT,null);let o=i.nextNode(),d;for(;o;){if(d=b.exec(o.data)){const u=Array.isArray(n[d[1]])?n[d[1]]:[n[d[1]]];o.replaceWith(...u),i.currentNode=r}o=i.nextNode()}},_=(r,n)=>{if(!r)return[null,""];const i=Object.getOwnPropertySymbols(r).find(d=>d.description===n),o=i?r[i]:"";return[i,o]},k=(r,n)=>{if(!r||!n||r.nodeType!==1||n.nodeType!==1)return;const i=r.attributes,o=n.attributes,d=n.getAttribute("data-preserve-attributes"),u=d&&d==="true";for(const{name:l,value:w}of i)(!o[l]||o[l]!==w)&&n.setAttribute(l,w);if(!u)for(const{name:l}of o)i[l]||n.removeAttribute(l);if(["input","textarea"].includes(n.tagName.toLowerCase())&&(n.value=r.value),n.tagName.indexOf("-")>-1&&r.tagName.indexOf("-")>-1){const l=_(r,"input")[1],w=_(n,"input");l&&w[1]&&l!==w[1]&&j(n,JSON.parse(l),w[0])}},R=r=>r.nodeType===3?"text":r.nodeType===8?"comment":r.tagName.toLowerCase(),N=r=>r.childNodes&&r.childNodes.length>0?null:r.textContent,z=(r,n,i)=>{const o=n?Array.from(n.childNodes):[],d=r?Array.from(r.childNodes):[];let u=o.length-d.length;if(u>0)for(;u>0;u--)o[o.length-u].parentNode.removeChild(o[o.length-u]);d.forEach(function(l,w){const C=o[w],H=_(l,"key")[1],F=_(C,"key")[1];if(k(l,C),i&&C&&C.nodeType===1&&C.tagName.indexOf("-")>-1)return;if(!C){n&&n.appendChild(l);return}if(H&&F&&H!==F||R(l)!==R(C)){C.replaceWith(l);return}const U=N(l);if(U&&U!==N(C)){C.textContent=U;return}if(C.childNodes.length>0&&l.childNodes.length<1){C.innerHTML="";return}if(C.childNodes.length<1&&l.childNodes.length>0){const se=document.createDocumentFragment();z(l,se,!1),C.appendChild(se);return}if(l.childNodes.length>0){z(l,C,!0);return}})};return{html:(r,...n)=>{let i="";const{length:o}=r;for(let u=1;u<o;u++){const l=n[u-1];let w=!1;if(i+=r[u-1],e.test(i)&&t.test(i)&&(i=i.replace(e,(C,H,F)=>`${s}${u-1}=${F||'"'}${H}${F?"":'"'}`),w=!0),!w)switch(!0){case Array.isArray(l):case l instanceof DocumentFragment:{i+=`<!--${h}${u-1}-->`;break}case(typeof l=="object"&&l!==null):{"attrs"in l&&(i+=`${s}${u-1}="attrs"`);break}default:i+=l||""}}i+=r[o-1];const d=J(i.trim());return S(d,n),E(d,n),d},render:(r,n)=>{r&&!r.children.length?(r.innerHTML="",r.appendChild(n)):z(n,r,!1),f.forEach(i=>{i()}),f=[],y.forEach(i=>{i()}),y=[]}}})();class V{constructor(t,s){T(this,"_shadowRoot");T(this,"_hostElement");T(this,"update");T(this,"emitEvent");this._hostElement=t,this._shadowRoot=s}get __metadata__(){return{name:"RENDERER"}}get shadowRoot(){return this._shadowRoot}get hostElement(){return this._hostElement}}const me={selector:"",root:!1,styles:"",deps:[],standalone:!1,shadowDomEncapsulation:!0},ee=(e,t)=>{const s=document.createElement("style");return s.innerHTML=e,t&&t.appendChild(s),s},Se=async(e,t)=>{var s,c,h,b,f,y,re,A,ne,j;if(e={...me,...e},m(e.styles)){const D=await e.styles;e.styles=D.default.toString()}if(e.styles=e.styles.toString(),e.root&&!M.isRootNodeSet)M.isRootNodeSet=!0,e.styles&&(M.globalStyles.replace(e.styles),M.globalStyleTag=ee(e.styles,document.head));else if(e.root&&M.isRootNodeSet)throw Error("Cannot register duplicate root component in "+e.selector+" component");window.customElements.define(e.selector,(j=class extends HTMLElement{constructor(){super();x(this,y);x(this,A);x(this,s,void 0);x(this,c,void 0);x(this,h,void 0);x(this,b,new Y);x(this,f,!1);T(this,"renderCount",0);e.shadowDomEncapsulation&&ie?(P(this,f,!1),P(this,c,this.attachShadow({mode:"open"})),p(this,c).adoptedStyleSheets=M.getComputedCss(e.styles,e.standalone)):(P(this,f,!0),P(this,c,this)),this.getInstance=this.getInstance.bind(this),this.update=this.update.bind(this),this.setRenderIntoQueue=this.setRenderIntoQueue.bind(this),B(this,y,re).call(this)}static get observedAttributes(){return t.observedAttributes||[]}update(){const S=p(this,s).render();typeof S=="string"?p(this,c).innerHTML=ue(S):Z(p(this,c),S)}setProps(S){var E,_;for(const[k,R]of Object.entries(S))t.observedProperties.find(N=>N===k)&&(p(this,s)[k]=R);(_=(E=p(this,s)).onPropertiesChanged)==null||_.call(E)}getInstance(){return p(this,s)}setRenderIntoQueue(){++this.renderCount,this.renderCount===1&&queueMicrotask(()=>{this.update(),this.renderCount=0})}connectedCallback(){var S,E,_,k;if(p(this,f)){const R=W();this.setAttribute("data-did",R);const N=e.styles.replaceAll(":host",`${e.selector}[data-did='${R}']`);!e.root&&N&&P(this,h,ee(N,document.head))}p(this,b).add($(this,"bindprops",R=>{const N=R.detail.props;N&&this.setProps(N)})),p(this,b).add($(this,"refresh_component",()=>{this.update()})),(E=(S=p(this,s)).beforeMount)==null||E.call(S),this.update(),(k=(_=p(this,s)).mount)==null||k.call(_)}attributeChangedCallback(S,E,_){var k,R;(R=(k=p(this,s)).onAttributesChanged)==null||R.call(k,S,E,_)}disconnectedCallback(){var S,E,_;this.renderCount=0,(E=(S=p(this,s)).unmount)==null||E.call(S),(_=p(this,h))==null||_.remove(),p(this,b).unsubscribe()}},s=new WeakMap,c=new WeakMap,h=new WeakMap,b=new WeakMap,f=new WeakMap,y=new WeakSet,re=function(){const S=new V(this,p(this,c));S.update=()=>{this.update()},S.emitEvent=(E,_)=>{B(this,A,ne).call(this,E,_)},p(this,b).add(ye(this.setRenderIntoQueue,()=>{P(this,s,X(de(this.setRenderIntoQueue,t),e.deps,S))}))},A=new WeakSet,ne=function(S,E){const _=new CustomEvent(S,{detail:E});this.dispatchEvent(_)},j))},_e={deps:[]},Ee=e=>t=>{if(e.selector.indexOf("-")<=0)throw new Error("You need at least 1 dash in the custom element name!");window.customElements.get(e.selector)||Se(e,t)},Ce=(e={})=>t=>{if(e={..._e,...e},t.prototype.__metadata__={name:"SERVICE"},e.deps.some(c=>c.prototype.__metadata__.name==="RENDERER"))throw Error("Renderer cannot be a dependency for a service. It should be used with component");const s=X(t,e.deps);G.register(t,s)};return a.BehaviourSubjectObs=ae,a.Component=Ee,a.Injectable=Ce,a.Renderer=V,a.SubjectObs=K,a.Subscriptions=Y,a.fromEvent=$,a.html=pe,a.promisify=he,a.render=Z,a.signal=ge,a.wrapIntoObservable=le,Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),a}({});
