var _e=Object.defineProperty;var Ee=(a,b,y)=>b in a?_e(a,b,{enumerable:!0,configurable:!0,writable:!0,value:y}):a[b]=y;var A=(a,b,y)=>(Ee(a,typeof b!="symbol"?b+"":b,y),y),z=(a,b,y)=>{if(!b.has(a))throw TypeError("Cannot "+y)};var m=(a,b,y)=>(z(a,b,"read from private field"),y?y.call(a):b.get(a)),L=(a,b,y)=>{if(b.has(a))throw TypeError("Cannot add the same private member more than once");b instanceof WeakSet?b.add(a):b.set(a,y)},M=(a,b,y,F)=>(z(a,b,"write to private field"),F?F.call(a,y):b.set(a,y),y);var U=(a,b,y)=>(z(a,b,"access private method"),y);var plumejs=function(a){var I,V;"use strict";const b=e=>!!e&&typeof e.subscribe=="function",y=e=>!!e&&typeof e.then=="function",F=e=>{const t=e.toString().split(/constructor\s*[^\(]*\(\s*([^\)]*)\)/m);return t.length===3?t[1].split(",").map(s=>s.trim()):[]},se=(()=>{try{return new CSSStyleSheet,!0}catch{return!1}})(),re=e=>({subscribe:t=>{t(e)}}),ne=e=>({subscribe:t=>{Promise.resolve(e).then(s=>{t(s)})}}),W=()=>Math.random().toString(36).substring(2);class q{constructor(){A(this,"_callbackCollection",{})}unsubscribe(t){delete this._callbackCollection[t]}asObservable(){return{subscribe:t=>this.subscribe(t)}}subscribe(t){const s=W();return this._callbackCollection[s]=t,()=>this.unsubscribe(s)}next(t){for(const s in this._callbackCollection)this._callbackCollection[s](t)}}class ie extends q{constructor(s){super();A(this,"_initialValue");this._initialValue=s}subscribe(s){const c=super.subscribe(s);return super.next(this._initialValue),c}next(s){this._initialValue=s,super.next(s)}}class B{constructor(){A(this,"_subcribers",[])}add(t){this._subcribers.push(t)}unsubscribe(){for(const t of this._subcribers)t();this._subcribers=[]}}const oe=e=>b(e)?e:y(e)?ne(Promise.resolve(e)):re(e),$=(e,t,s,c=!1)=>(e.addEventListener(t,s,c),()=>{e.removeEventListener(t,s,c)}),ce=e=>{const t=()=>new DOMParser().parseFromString(e,"text/html").body||document.createElement("body"),s=C=>{const S=C.querySelectorAll("script");for(const R of S)R.remove()},c=(C,S)=>{if(S=S.replace(/\s+/g,"").toLowerCase(),["src","href","xlink:href"].includes(C)&&(S.includes("javascript:")||S.includes("data:"))||C.startsWith("on"))return!0},d=C=>{const S=C.attributes;for(const{name:R,value:D}of S)c(R,D)&&C.removeAttribute(R)},g=C=>{const S=C.children;for(const R of S)d(R),g(R)},p=t();return s(p),g(p),p.innerHTML},ae=(e,t)=>{const s=F(t),c=()=>({get(d,g){const p=Object.prototype.toString.call(d[g]);return["[object Object]","[object Array]"].indexOf(p)>-1&&!("__metadata__"in d[g])?new Proxy(d[g],c()):d[g]},set(d,g,p){return d[g]=p,e(),!0}});return class extends t{constructor(...d){return super(...d),d.forEach((g,p)=>{s[p]&&s[p]!=="undefined"&&(this[s[p]]=g)}),new Proxy(this,c())}}},le=()=>{let e;return[new Promise(s=>{e=s}),e]},ue=e=>typeof e=="function",Q=Object.create(null);let O=null;function de(e,t){const s=O;let c;O=W(),Q[O]=e;try{t()}finally{c=O,O=s}return c}function he(e){const t=Q[O];let s=e;function c(){return s}return c.set=function(d){ue(d)?s=d(s):s=d,t()},c}function fe(e,t){const s=de(e,t);return function(){delete Q[s]}}const Y=new(V=class{constructor(){L(this,I,void 0);M(this,I,new WeakMap)}register(e,t){if(!m(this,I).get(e))m(this,I).set(e,t);else throw console.error(e),"service already exists"}getService(e){const t=m(this,I).get(e);if(t)return t;throw console.error(e),"service is not a registered service."}clear(){M(this,I,new WeakMap)}},I=new WeakMap,V),G=(e,t,s)=>{if(t.length>0){const c=[];for(const p of t)p.prototype.__metadata__.name!=="RENDERER"?c.push(Y.getService(p)):c.push(s);const d=F(e),g=new e(...c);return t.forEach((p,C)=>{g[d[C]]=c[C]}),g}else return new e},j=new class{constructor(){A(this,"globalStyles");A(this,"globalStyleTag");A(this,"style_registry");A(this,"isRootNodeSet");try{this.globalStyles=new CSSStyleSheet}catch{this.globalStyles=""}this.isRootNodeSet=!1,this.globalStyleTag=null}getComputedCss(e=""){let t=[];const s=new CSSStyleSheet;if(s.insertRule(":host { display: block; }"),t=[this.globalStyles,s],e){const c=new CSSStyleSheet;c.replace(e),t.push(c)}return t}},{html:be,render:K}=(()=>{const e=/([^\s\\>"'=]+)\s*=\s*(['"]?)$/,t=/<[a-z][^>]+$/i,s="attr",c=/^attr([^ ]+)/,d="insertNode",g=/^insertNode([^ ]+)/;let p=[],C=[];const S=r=>{const n={"&":"&amp;","<":"&lt;",">":"&gt;","(":"%28",")":"%29"};let i=JSON.stringify(r);const o=l=>n[l]||l;return i=(l=>l.replace(/[&<>\(\)]/g,o))(i),JSON.parse(i)},R=(r,n)=>{const i=r.options,o=Array.isArray(n)?n:[n];let f,l,u=i.length;for(;u--;){l=i[u];const w=l.getAttribute("value")??(l.textContent.match(/[^\x20\t\r\n\f]+/g)||[]).join(" ");(l.selected=o.indexOf(w)>-1)&&(f=!0)}f||(r.selectedIndex=-1)},D=r=>{const n=document.createElement("template");return n.innerHTML=r,n.content},H=(r,n,i)=>{const o=()=>{setTimeout(()=>{if(r.isConnected){const f=new CustomEvent("bindprops",{detail:{props:n},bubbles:!1});r.dispatchEvent(f)}})};r[i]=JSON.stringify(n),C.push(o)},h=(r,n,i)=>{switch(!0){case/attrs/.test(n):{const o=i.attrs;for(const f in o)h(r,f,o[f]);break}case/^on+/.test(n):{const o=n.slice(2).toLowerCase();r.removeEventListener(o,i),r.addEventListener(o,i);break}case/ref/.test(n):{const o=function(){this.node.isConnected&&this.fn(this.node)}.bind({node:r,fn:i});p.push(o);break}case/^data-+/.test(n):case/^aria-+/.test(n):{n==="data-input"?H(r,i,Symbol("input")):r.setAttribute(n,S(i));break}case/class/.test(n):{i?r.classList.add(...i.split(" ")):r.setAttribute("class","");break}case/value/.test(n):{r.nodeName.toLowerCase()==="select"?R(r,i):r.value=S(i);break}case/disabled/.test(n):case/checked/.test(n):{i?r.setAttribute(n,i):r.removeAttribute(n);break}default:r.setAttribute(n,S(i))}},_=(r,n)=>{const i=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,null);let o=i.nextNode();for(;o;){if(o.hasAttributes()){const f=Array.from(o.attributes).filter(l=>c.test(l.nodeName));for(const{nodeName:l,nodeValue:u}of f){const w=c.exec(l)[1];h(o,u,n[w]),o.removeAttribute(l)}}o=i.nextNode()}},v=(r,n)=>{const i=document.createTreeWalker(r,NodeFilter.SHOW_COMMENT,null);let o=i.nextNode(),f;for(;o;){if(f=g.exec(o.data)){const l=Array.isArray(n[f[1]])?n[f[1]]:[n[f[1]]];o.replaceWith(...l),i.currentNode=r}o=i.nextNode()}},T=(r,n)=>{if(!r||!n||r.nodeType!==1||n.nodeType!==1)return;const i=r.attributes,o=n.attributes,f=n.getAttribute("data-preserve-attributes"),l=f&&f==="true";for(const{name:u,value:w}of i)(!o[u]||o[u]!==w)&&n.setAttribute(u,w);if(!l)for(const{name:u}of o)i[u]||n.removeAttribute(u);if(["input","textarea"].includes(n.tagName.toLowerCase())&&(n.value=r.value),n.tagName.indexOf("-")>-1&&r.tagName.indexOf("-")>-1){const u=Object.getOwnPropertySymbols(r).find(x=>x.description==="input"),w=Object.getOwnPropertySymbols(n).find(x=>x.description==="input"),E=u?r[u]:"",P=w?n[w]:"";E&&P&&E!==P&&H(n,JSON.parse(E),w)}},k=r=>r.nodeType===3?"text":r.nodeType===8?"comment":r.tagName.toLowerCase(),N=r=>r.childNodes&&r.childNodes.length>0?null:r.textContent,J=(r,n,i)=>{const o=n?Array.from(n.childNodes):[],f=r?Array.from(r.childNodes):[];let l=o.length-f.length;if(l>0)for(;l>0;l--)o[o.length-l].parentNode.removeChild(o[o.length-l]);f.forEach(function(u,w){const E=o[w];if(T(u,E),i&&E&&E.nodeType===1&&E.tagName.indexOf("-")>-1)return;if(!E){n&&n.appendChild(u);return}if(k(u)!==k(E)){E.replaceWith(u);return}const P=N(u);if(P&&P!==N(E)){E.textContent=P;return}if(E.childNodes.length>0&&u.childNodes.length<1){E.innerHTML="";return}if(E.childNodes.length<1&&u.childNodes.length>0){const x=document.createDocumentFragment();J(u,x,!1),E.appendChild(x);return}if(u.childNodes.length>0){J(u,E,!0);return}})};return{html:(r,...n)=>{let i="";const{length:o}=r;for(let l=1;l<o;l++){const u=n[l-1];let w=!1;if(i+=r[l-1],e.test(i)&&t.test(i)&&(i=i.replace(e,(E,P,x)=>`${s}${l-1}=${x||'"'}${P}${x?"":'"'}`),w=!0),!w)switch(!0){case Array.isArray(u):case u instanceof DocumentFragment:{i+=`<!--${d}${l-1}-->`;break}case(typeof u=="object"&&u!==null):{"attrs"in u&&(i+=`${s}${l-1}="attrs"`);break}default:i+=u||""}}i+=r[o-1];const f=D(i.trim());return _(f,n),v(f,n),f},render:(r,n)=>{r&&!r.children.length?(r.innerHTML="",r.appendChild(n)):J(n,r,!1),p.forEach(i=>{i()}),p=[],C.forEach(i=>{i()}),C=[]}}})();class X{constructor(t,s){A(this,"_shadowRoot");A(this,"_hostElement");A(this,"update");A(this,"emitEvent");this._hostElement=t,this._shadowRoot=s}get __metadata__(){return{name:"RENDERER"}}get shadowRoot(){return this._shadowRoot}get hostElement(){return this._hostElement}}const ge={selector:"",root:!1,styles:"",deps:[],standalone:!1,shadowDomEncapsulation:!0},Z=(e,t)=>{const s=document.createElement("style");return s.innerHTML=e,t&&t.appendChild(s),s},pe=async(e,t)=>{var s,c,d,g,p,ee,S,te,D;if(e={...ge,...e},y(e.styles)){const H=await e.styles;e.styles=H.default.toString()}if(e.styles=e.styles.toString(),e.root&&!j.isRootNodeSet)j.isRootNodeSet=!0,e.styles&&(j.globalStyles.replace(e.styles),j.globalStyleTag=Z(e.styles,document.head));else if(e.root&&j.isRootNodeSet)throw Error("Cannot register duplicate root component in "+e.selector+" component");window.customElements.define(e.selector,(D=class extends HTMLElement{constructor(){super();L(this,p);L(this,S);L(this,s,void 0);L(this,c,void 0);L(this,d,void 0);L(this,g,new B);A(this,"renderCount",0);if(e.shadowDomEncapsulation&&se)M(this,c,this.attachShadow({mode:"open"})),m(this,c).adoptedStyleSheets=j.getComputedCss(e.styles,e.standalone);else{M(this,c,this);const h=W();this.setAttribute("data-did",h);const _=e.styles.replaceAll(":host",`${e.selector}[data-did='${h}']`);!e.root&&_&&M(this,d,Z(_,document.head))}this.getInstance=this.getInstance.bind(this),this.update=this.update.bind(this),this.setRenderIntoQueue=this.setRenderIntoQueue.bind(this),U(this,p,ee).call(this)}static get observedAttributes(){return t.observedAttributes||[]}update(){const h=m(this,s).render();typeof h=="string"?m(this,c).innerHTML=ce(h):K(m(this,c),h)}setProps(h){var _,v;for(const[T,k]of Object.entries(h))t.observedProperties.find(N=>N===T)&&(m(this,s)[T]=k);(v=(_=m(this,s)).onPropertiesChanged)==null||v.call(_)}getInstance(){return m(this,s)}setRenderIntoQueue(){++this.renderCount,this.renderCount===1&&queueMicrotask(()=>{this.update(),this.renderCount=0})}connectedCallback(){var h,_,v,T;m(this,g).add($(this,"bindprops",k=>{const N=k.detail.props;N&&this.setProps(N)})),m(this,g).add($(this,"refresh_component",()=>{this.update()})),(_=(h=m(this,s)).beforeMount)==null||_.call(h),this.update(),(T=(v=m(this,s)).mount)==null||T.call(v)}attributeChangedCallback(h,_,v){var T,k;(k=(T=m(this,s)).onAttributesChanged)==null||k.call(T,h,_,v)}disconnectedCallback(){var h,_,v;this.renderCount=0,(_=(h=m(this,s)).unmount)==null||_.call(h),(v=m(this,d))==null||v.remove(),m(this,g).unsubscribe()}},s=new WeakMap,c=new WeakMap,d=new WeakMap,g=new WeakMap,p=new WeakSet,ee=function(){const h=new X(this,m(this,c));h.update=()=>{this.update()},h.emitEvent=(_,v)=>{U(this,S,te).call(this,_,v)},m(this,g).add(fe(this.setRenderIntoQueue,()=>{M(this,s,G(ae(this.setRenderIntoQueue,t),e.deps,h))}))},S=new WeakSet,te=function(h,_){const v=new CustomEvent(h,{detail:_});this.dispatchEvent(v)},D))},ye={deps:[]},me=e=>t=>{if(e.selector.indexOf("-")<=0)throw new Error("You need at least 1 dash in the custom element name!");window.customElements.get(e.selector)||pe(e,t)},Se=(e={})=>t=>{if(e={...ye,...e},t.prototype.__metadata__={name:"SERVICE"},e.deps.some(c=>c.prototype.__metadata__.name==="RENDERER"))throw Error("Renderer cannot be a dependency for a service. It should be used with component");const s=G(t,e.deps);Y.register(t,s)};return a.BehaviourSubjectObs=ie,a.Component=me,a.Injectable=Se,a.Renderer=X,a.SubjectObs=q,a.Subscriptions=B,a.fromEvent=$,a.html=be,a.promisify=le,a.render=K,a.signal=he,a.wrapIntoObservable=oe,Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),a}({});
