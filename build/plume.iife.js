var Pe=Object.defineProperty;var Ne=(u,y,v)=>y in u?Pe(u,y,{enumerable:!0,configurable:!0,writable:!0,value:v}):u[y]=v;var _=(u,y,v)=>(Ne(u,typeof y!="symbol"?y+"":y,v),v),Z=(u,y,v)=>{if(!y.has(u))throw TypeError("Cannot "+v)};var n=(u,y,v)=>(Z(u,y,"read from private field"),v?v.call(u):y.get(u)),w=(u,y,v)=>{if(y.has(u))throw TypeError("Cannot add the same private member more than once");y instanceof WeakSet?y.add(u):y.set(u,v)},N=(u,y,v,A)=>(Z(u,y,"write to private field"),A?A.call(u,v):y.set(u,v),v);var H=(u,y,v)=>(Z(u,y,"access private method"),v);var PlumeJS=function(u){var k,le,x,I,$,U,ue,D,he,O,B,V,C,R,z,de;"use strict";const{html:y,render:v}=(()=>{const s=/([^\s\\>"'=]+)\s*=\s*(['"]?)$/,e=/<[a-z][^>]+$/i,t="attr",r=/^attr([^ ]+)/,h="insertNode",d=/^insertNode([^ ]+)/;let g=[];const f=o=>{const i={"&":"&amp;","<":"&lt;",">":"&gt;","(":"%28",")":"%29"};let c=JSON.stringify(o);const l=a=>i[a]||a;return c=(a=>a.replace(/[&<>\(\)]/g,l))(c),JSON.parse(c)},S=(o,i)=>{var m;const c=o.options,l=Array.isArray(i)?i:[i];let p,a,b=c.length;for(;b--;){a=c[b];const T=(m=a.getAttribute("value"))!=null?m:(a.textContent.match(/[^\x20\t\r\n\f]+/g)||[]).join(" ");(a.selected=l.indexOf(T)>-1)&&(p=!0)}p||(o.selectedIndex=-1)},E=o=>{const i=document.createElement("template");return i.innerHTML=o,i.content},L=(o,i)=>{const c=document.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,null);let l=c.nextNode();for(;l;){if(l.hasAttributes()){const p=Array.from(l.attributes).filter(a=>r.test(a.nodeName));for(const{nodeName:a,nodeValue:b}of p){const m=r.exec(a)[1];switch(!0){case/^on+/.test(b):{const T=b.slice(2).toLowerCase();l.removeEventListener(T,i[m]),T!=="bindprops"?l.addEventListener(T,i[m]):l.addEventListener(T,M=>{M.detail.setProps(i[m]())});break}case/ref/.test(b):{const T=(M=>{const q=M;return()=>{q.isConnected&&i[m](q)}})(l);g.push(T);break}case/^data-+/.test(b):{l.setAttribute(`data-${b}`,f(i[m]));break}case/^aria-+/.test(b):{l.setAttribute(`aria-${b}`,f(i[m]));break}case/class/.test(b):{i[m]?l.classList.add(...i[m].split(" ")):l.setAttribute("class","");break}case/value/.test(b):{l.nodeName.toLowerCase()==="select"?S(l,i[m]):l.value=f(i[m]);break}case/disabled/.test(b):case/checked/.test(b):{i[m]?l.setAttribute(b,i[m]):l.removeAttribute(b);break}default:l.setAttribute(b,f(i[m]))}l.removeAttribute(a)}}l=c.nextNode()}},P=(o,i)=>{const c=document.createTreeWalker(o,NodeFilter.SHOW_COMMENT,null);let l=c.nextNode(),p;for(;l;){if(p=d.exec(l.data)){const a=Array.isArray(i[p[1]])?i[p[1]]:[i[p[1]]];l.replaceWith(...a),c.currentNode=o}l=c.nextNode()}},W=(o,i)=>{if(!o||!i||o.nodeType!==1||i.nodeType!==1)return;const c=o.attributes,l=i.attributes;for(const{name:p,value:a}of c)/class/.test(p)?Array.from(o.classList).every(b=>{i.classList.contains(b)||i.classList.add(b)}):(!l[p]||l[p]!==a)&&i.setAttribute(p,a);for(const{name:p}of l)/class/.test(p)?Array.from(i.classList).every(a=>{o.classList.contains(a)||i.classList.remove(a)}):c[p]||i.removeAttribute(p)},J=o=>o.nodeType===3?"text":o.nodeType===8?"comment":o.tagName.toLowerCase(),ce=o=>o.childNodes&&o.childNodes.length>0?null:o.textContent,Y=(o,i)=>{const c=i?Array.from(i.childNodes):[],l=o?Array.from(o.childNodes):[];let p=c.length-l.length;if(p>0)for(;p>0;p--)c[c.length-p].parentNode.removeChild(c[c.length-p]);l.forEach(function(a,b){const m=c[b];if(W(a,m),!m){i&&i.appendChild(a);return}if(J(a)!==J(m)){m.replaceWith(a);return}const T=ce(a);if(T&&T!==ce(m)){m.textContent=T;return}if(m.childNodes.length>0&&a.childNodes.length<1){m.innerHTML="";return}if(m.childNodes.length<1&&a.childNodes.length>0){const M=document.createDocumentFragment();Y(a,M),m.appendChild(M);return}if(a.childNodes.length>0){Y(a,m);return}})};return{html:(o,...i)=>{let c="";const{length:l}=o;for(let a=1;a<l;a++){const b=i[a-1];let m=!1;if(c+=o[a-1],s.test(c)&&e.test(c)&&(c=c.replace(s,(T,M,q)=>`${t}${a-1}=${q||'"'}${M}${q?"":'"'}`),m=!0),!m)switch(!0){case Array.isArray(b):case b instanceof DocumentFragment:{c+=`<!--${h}${a-1}-->`;break}case(typeof b=="object"&&b!==null):{"html"in b&&(c+=b.html);break}default:c+=b}}c+=o[l-1];const p=E(c.trim());return L(p,i),P(p,i),p},render:(o,i)=>{o&&!o.children.length?(o.innerHTML="",o.appendChild(i)):Y(i,o),g.forEach(c=>{c()}),g=[]}}})(),A=new class{constructor(){_(this,"globalStyles");_(this,"globalStyleTag");_(this,"style_registry");_(this,"isRootNodeSet");try{this.globalStyles=new CSSStyleSheet}catch{this.globalStyles=""}this.isRootNodeSet=!1,this.globalStyleTag=null}getComputedCss(s=""){let e=[];const t=new CSSStyleSheet;if(t.insertRule(":host { display: block; }"),e=[this.globalStyles,t],s){const r=new CSSStyleSheet;r.replace(s),e.push(r)}return e}},ee=new(le=class{constructor(){w(this,k,void 0);N(this,k,new WeakMap)}register(s,e){if(!n(this,k).get(s))n(this,k).set(s,e);else throw console.error(s),"service already exists"}getService(s){const e=n(this,k).get(s);if(e)return e;throw console.error(s),"service is not a registered service."}clear(){N(this,k,new WeakMap)}},k=new WeakMap,le),fe=s=>typeof s=="function",me=s=>{const e=s.toString().split(/constructor\s*[^\(]*\(\s*([^\)]*)\)/m);return e.length===3?e[1].split(",").map(t=>t.trim()):[]},G=(()=>{try{return new CSSStyleSheet,!1}catch{return!0}})(),te=(s,e,t,r=!1)=>(s.addEventListener(e,t,r),()=>{s.removeEventListener(e,t,r)}),se=(s,e,t)=>{if(e.length>0){const r=[];for(const g of e)g.__metadata__?r.push(t):r.push(ee.getService(g));const h=me(s),d=new s(...r);return e.forEach((g,f)=>{d[h[f]]=r[f]}),d}else return new s};class K{constructor(){_(this,"shadowRoot");_(this,"update");_(this,"emitEvent")}static get __metadata__(){return{name:"Renderer"}}}const ge={selector:"",root:!1,styles:"",deps:[],standalone:!1},re=(s,e)=>{const t=document.createElement("style");return t.innerHTML=s,e&&e.appendChild(t),t},ne=(s,e)=>{var t,r,h,d;if(!window.customElements.get(s.selector)){if(s={...ge,...s},s.styles=s.styles.toString(),s.root&&!A.isRootNodeSet)A.isRootNodeSet=!0,s.styles&&(A.globalStyles.replace(s.styles),A.globalStyleTag=re(s.styles,document.head));else if(s.root&&A.isRootNodeSet)throw Error("Cannot register duplicate root component in "+s.selector+" component");window.customElements.define(s.selector,(d=class extends HTMLElement{constructor(){super();w(this,t,void 0);w(this,r,void 0);w(this,h,void 0);N(this,r,this.attachShadow({mode:"open"})),G||(n(this,r).adoptedStyleSheets=A.getComputedCss(s.styles,s.standalone)),this.getInstance=this.getInstance.bind(this)}static get observedAttributes(){return e.observedAttributes||[]}emulateComponent(){G&&s.styles&&N(this,h,re(s.styles))}update(){v(n(this,r),(()=>n(this,t).render())()),G&&(s.styles&&n(this,r).insertBefore(n(this,h),n(this,r).childNodes[0]),A.globalStyleTag&&!s.standalone&&n(this,r).insertBefore(document.importNode(A.globalStyleTag,!0),n(this,r).childNodes[0]))}emitEvent(f,S){const E=new CustomEvent(f,{detail:S});this.dispatchEvent(E)}setProps(f){var S,E;for(const[L,P]of Object.entries(f))n(this,t)[L]=P;(E=(S=n(this,t)).onPropsChanged)==null||E.call(S),this.update()}getInstance(){return n(this,t)}connectedCallback(){var f,S,E,L;if(this.isConnected){this.emulateComponent();const P=new K;P.shadowRoot=n(this,r),P.update=()=>{this.update()},P.emitEvent=(W,J)=>{this.emitEvent(W,J)},N(this,t,se(e,s.deps,P)),(S=(f=n(this,t)).beforeMount)==null||S.call(f),this.update(),(L=(E=n(this,t)).mount)==null||L.call(E),this.emitEvent("bindprops",{setProps:W=>{this.setProps(W)}},!1)}}attributeChangedCallback(f,S,E){var L,P;(P=(L=n(this,t)).onNativeAttributeChanges)==null||P.call(L,f,S,E)}disconnectedCallback(){var f,S;(S=(f=n(this,t)).unmount)==null||S.call(f)}},t=new WeakMap,r=new WeakMap,h=new WeakMap,d))}},ie={deps:[]},Q=(...s)=>{let e={...ie},t;if(s[0].hasOwnProperty("deps")?(e={...ie,...s[0]},t=s[1]):t=s[0],t){const r=se(t,e.deps);ee.register(t,r)}else throw new Error("error: Requires constructor to define service")},j=class{static checkParams(e,t){let r=0,h={},d=t.ParamCount;for(let f=0;f<e.length;f++){var g=t.Params[f];g.indexOf(":")>=0&&(h[g.split(":")[1]]=e[f].split("?")[0],r+=1)}return r===d?h:{}}static getParamCount(e){let t=0;return e.forEach(r=>{r.indexOf(":")>=0&&(t+=1)}),t}static formatRoute(e){let t={Params:{},Url:"",Template:"",ParamCount:0,IsRegistered:!1,redirectTo:"",canActivate:()=>!0};if(t.Params=e.path.split("/").filter(r=>r.length>0),t.Url=e.path,t.Template="",t.redirectTo=e.redirectTo,e.template){if(!e.templatePath)throw Error("templatePath is required in route if template is mentioned.");t.Template=e.template,t.TemplatePath=e.templatePath}e.canActivate&&(t.canActivate=e.canActivate),t.ParamCount=j.getParamCount(t.Params),j.routeList.push(t)}static preloadRoutes(){for(const e of j.routeList)e.TemplatePath&&e.TemplatePath()}};let F=j;_(F,"routeList",[]);const be=s=>!!s&&typeof s.subscribe=="function",pe=s=>!!s&&typeof s.then=="function",ye=s=>({subscribe:e=>{e(s)}}),ve=s=>({subscribe:e=>{Promise.resolve(s).then(t=>{e(t)})}});class Se{asObservable(){return{subscribe:e=>this.subscribe(e)}}subscribe(e){return this.internalFn=e,this.unsubscribe}unsubscribe(){this._internalFn=null}next(e){this.internalFn(e)}}const ae=s=>be(s)?s:pe(s)?ve(Promise.resolve(s)):ye(s);class X{constructor(){w(this,U);w(this,D);w(this,O);w(this,x,{path:"",routeParams:new Map,queryParams:new Map,state:{}});w(this,I,new Se);w(this,$,void 0)}startHashChange(){N(this,$,te(window,"hashchange",()=>{H(this,U,ue).call(this)}))}stopHashChange(){n(this,$).call(this)}getTemplate(){return n(this,I).asObservable()}getCurrentRoute(){return n(this,x)}navigateTo(e="",t){e?(window.location.hash.replace(/^#/,"")===e&&H(this,O,B).call(this,e,t),window.location.hash="#"+e):H(this,O,B).call(this,e,t)}}x=new WeakMap,I=new WeakMap,$=new WeakMap,U=new WeakSet,ue=function(){const e=window.location.hash.replace(/^#/,"");H(this,O,B).call(this,e,null)},D=new WeakSet,he=function(e,t){if(e){let r=new RegExp(e.replace(/:[^\s/]+/g,"([\\w-]+)"));return t.match(r)}else return e===t},O=new WeakSet,B=function(e,t){let r=e.split("/").filter(g=>g.length>0),h=F.routeList.filter(g=>{if(g.Params.length===r.length&&H(this,D,he).call(this,g.Url,e))return g;if(g.Url===e)return g}),d=h.length>0?h[0]:null;d&&(n(this,x).path=e,n(this,x).state={...t||{}},ae(d.canActivate()).subscribe(g=>{if(!g)return;let f=F.checkParams(r,d);if(Object.keys(f).length>0||e){n(this,x).routeParams=new Map(Object.entries(f));const S=window.location.hash.split("?")[1]?new URLSearchParams(window.location.hash.split("?")[1]).entries():[];n(this,x).queryParams=new Map(S),d.IsRegistered?n(this,I).next(d.Template):d.TemplatePath&&ae(d.TemplatePath()).subscribe(()=>{d.IsRegistered=!0,n(this,I).next(d.Template)})}else this.navigateTo(d.redirectTo)}))},Q(X);class oe{constructor(e){}getCurrentRoute(){return this.internalRouter.getCurrentRoute()}navigateTo(e,t){this.internalRouter.navigateTo(e,t)}registerRoutes(e,t=!1){if(Array.isArray(e)){for(let r of e)F.formatRoute(r);t&&F.preloadRoutes()}else throw Error("router.addRoutes: the parameter must be an array")}}Q({deps:[X]},oe);const we=()=>{var e,t;class s{constructor(h,d){w(this,e,"");w(this,t,void 0);_(this,"update")}beforeMount(){N(this,t,this.internalRouterSrvc.getTemplate().subscribe(h=>{N(this,e,h),this.renderer.update()})),this.internalRouterSrvc.startHashChange()}mount(){let h=window.location.hash.replace(/^#/,"");this.internalRouterSrvc.navigateTo(h)}unmount(){n(this,t).call(this),this.internalRouterSrvc.stopHashChange()}render(){if(n(this,e)){const h=[`${n(this,e)}`];return h.raw=[`${n(this,e)}`],y(h)}else return y``}}e=new WeakMap,t=new WeakMap,ne({selector:"router-outlet",deps:[X,K]},s)},Ce=s=>{let e=s;return[e,r=>{let h;fe(r)?h=r(e):h=r,Object.assign(e,h)}]},Te=s=>{let e;switch(s.nodeName&&s.nodeName.toLowerCase()){case"input":case"textarea":{["radio","checkbox"].includes(s.type)?e=s.checked?s.value!==null&&s.value!=="on"?s.value:!0:!1:e=s.value;break}case"select":{const t=s.type==="select-one",h=[...Array.from(s.options)].filter(d=>d.selected).map(d=>{var g;return(g=d.value)!=null?g:(d.textContent.match(/[^\x20\t\r\n\f]+/g)||[]).join(" ")});e=t?h[0]:h;break}default:{e=s.value;break}}return e};class Ae{constructor(e,t){w(this,z);w(this,V,void 0);w(this,C,void 0);w(this,R,new Map);N(this,V,e),N(this,C,t)}get errors(){return n(this,R)}get valid(){return H(this,z,de).call(this),!n(this,R).size}get value(){const e={};for(const[t,r]of Object.entries(n(this,C)))e[t]=r.value;return e}get(e){return n(this,C)[e]}reset(e={}){for(const t in n(this,C))n(this,C)[t].value=e[t]||n(this,V)[t];n(this,R).clear()}}V=new WeakMap,C=new WeakMap,R=new WeakMap,z=new WeakSet,de=function(){n(this,R).clear();for(const e in n(this,C)){const t=n(this,C)[e].value,r=n(this,C)[e].validators;n(this,C)[e].errors=null;for(const h of r){const d=h(t);d!==null&&(n(this,R).has(e)?(n(this,R).set(e,{...n(this,R).get(e),...d}),n(this,C)[e].errors={...n(this,C)[e].errors,...d}):(n(this,R).set(e,d),n(this,C)[e].errors=d))}}};const Re=s=>{const e={},t={};for(const[g,f]of Object.entries(s)){const S=Array.isArray(f)?f:[f];e[g]={value:S.shift(),validators:S},t[g]=e[g].value}const r=new Ae(t,e);return[r,g=>f=>{const S=Te(f.target);r.get(g).value=S},()=>{r.reset()}]};class Ee{static required(e){return e.length?null:{required:!0}}static min(e){return t=>t.length>=e?null:{minLength:{requiredLength:e}}}static max(e){return t=>t.length<=e?null:{maxLength:{requiredLength:e}}}static pattern(e){return t=>new RegExp(e).test(t)?null:{pattern:!0}}}return u.Component=ne,u.Renderer=K,u.Router=oe,u.Service=Q,u.Validators=Ee,u.fromNativeEvent=te,u.html=y,u.registerRouterComponent=we,u.render=v,u.useFormFields=Re,u.useState=Ce,Object.defineProperties(u,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}}),u}({});
