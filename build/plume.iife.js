var Ve=Object.defineProperty;var We=(m,y,v)=>y in m?Ve(m,y,{enumerable:!0,configurable:!0,writable:!0,value:v}):m[y]=v;var N=(m,y,v)=>(We(m,typeof y!="symbol"?y+"":y,v),v),ie=(m,y,v)=>{if(!y.has(m))throw TypeError("Cannot "+v)};var n=(m,y,v)=>(ie(m,y,"read from private field"),v?v.call(m):y.get(m)),w=(m,y,v)=>{if(y.has(m))throw TypeError("Cannot add the same private member more than once");y instanceof WeakSet?y.add(m):y.set(m,v)},L=(m,y,v,D)=>(ie(m,y,"write to private field"),D?D.call(m,v):y.set(m,v),v);var x=(m,y,v)=>(ie(m,y,"access private method"),v);var PlumeJS=function(m){var H,ge,z,U,J,T,P,G,Se,O,W,B,$,K,we,Q,ve,q,Z;"use strict";const y=new(ge=class{constructor(){w(this,H,void 0);L(this,H,new WeakMap)}register(r,e){if(!n(this,H).get(r))n(this,H).set(r,e);else throw console.error(r),"service already exists"}getService(r){const e=n(this,H).get(r);if(e)return e;throw console.error(r),"service is not a registered service."}clear(){L(this,H,new WeakMap)}},H=new WeakMap,ge),v=r=>typeof r=="function",D=r=>{const e=r.toString().split(/constructor\s*[^\(]*\(\s*([^\)]*)\)/m);return e.length===3?e[1].split(",").map(t=>t.trim()):[]},ee=(()=>{try{return new CSSStyleSheet,!1}catch{return!0}})(),ae=(r,e,t,s=!1)=>(r.addEventListener(e,t,s),()=>{r.removeEventListener(e,t,s)}),Ce=r=>{const e=()=>new DOMParser().parseFromString(r,"text/html").body||document.createElement("body"),t=d=>{const C=d.querySelectorAll("script");for(const A of C)A.remove()},s=(d,C)=>{if(C=C.replace(/\s+/g,"").toLowerCase(),["src","href","xlink:href"].includes(d)&&(C.includes("javascript:")||C.includes("data:"))||d.startsWith("on"))return!0},c=d=>{const C=d.attributes;for(const{name:A,value:ne}of C)s(A,ne)&&d.removeAttribute(A)},i=d=>{const C=d.children;for(const A of C)c(A),i(A)},h=e();return t(h),i(h),h.innerHTML},Re=function(r){r.renderCount===1&&queueMicrotask(()=>{r.update(),r.renderCount=0})},Te=(r,e)=>{const t=D(e);return class extends e{constructor(...s){return super(...s),s.forEach((c,i)=>{this[t[i]]=c}),new Proxy(this,{get(c,i,h){return Reflect.get(c,i,h)},set(c,i,h,d){return Reflect.set(c,i,h,d),++r.renderCount,Re(r),!0}})}}},ce=(r,e,t)=>{if(e.length>0){const s=[];for(const h of e)h.__metadata__?s.push(t):s.push(y.getService(h));const c=D(r),i=new r(...s);return e.forEach((h,d)=>{i[c[d]]=s[d]}),i}else return new r},M=new class{constructor(){N(this,"globalStyles");N(this,"globalStyleTag");N(this,"style_registry");N(this,"isRootNodeSet");try{this.globalStyles=new CSSStyleSheet}catch{this.globalStyles=""}this.isRootNodeSet=!1,this.globalStyleTag=null}getComputedCss(r=""){let e=[];const t=new CSSStyleSheet;if(t.insertRule(":host { display: block; }"),e=[this.globalStyles,t],r){const s=new CSSStyleSheet;s.replace(r),e.push(s)}return e}},{html:te,render:le}=(()=>{const r=/([^\s\\>"'=]+)\s*=\s*(['"]?)$/,e=/<[a-z][^>]+$/i,t="attr",s=/^attr([^ ]+)/,c="insertNode",i=/^insertNode([^ ]+)/;let h=[];const d=a=>{const o={"&":"&amp;","<":"&lt;",">":"&gt;","(":"%28",")":"%29"};let f=JSON.stringify(a);const l=u=>o[u]||u;return f=(u=>u.replace(/[&<>\(\)]/g,l))(f),JSON.parse(f)},C=(a,o)=>{const f=a.options,l=Array.isArray(o)?o:[o];let p,u,b=f.length;for(;b--;){u=f[b];const g=u.getAttribute("value")??(u.textContent.match(/[^\x20\t\r\n\f]+/g)||[]).join(" ");(u.selected=l.indexOf(g)>-1)&&(p=!0)}p||(a.selectedIndex=-1)},A=a=>{const o=document.createElement("template");return o.innerHTML=a,o.content},ne=(a,o)=>{const f=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,null);let l=f.nextNode();for(;l;){if(l.hasAttributes()){const p=Array.from(l.attributes).filter(u=>s.test(u.nodeName));for(const{nodeName:u,nodeValue:b}of p){const g=s.exec(u)[1];switch(!0){case/^on+/.test(b):{const _=b.slice(2).toLowerCase();l.removeEventListener(_,o[g]),_!=="bindprops"?l.addEventListener(_,o[g]):l.addEventListener(_,j=>{j.detail.setProps(o[g]())});break}case/ref/.test(b):{const _=(j=>{const Y=j;return()=>{Y.isConnected&&o[g](Y)}})(l);h.push(_);break}case/^data-+/.test(b):case/^aria-+/.test(b):{l.setAttribute(b,d(o[g]));break}case/class/.test(b):{o[g]?l.classList.add(...o[g].split(" ")):l.setAttribute("class","");break}case/value/.test(b):{l.nodeName.toLowerCase()==="select"?C(l,o[g]):l.value=d(o[g]);break}case/disabled/.test(b):case/checked/.test(b):{o[g]?l.setAttribute(b,o[g]):l.removeAttribute(b);break}default:l.setAttribute(b,d(o[g]))}l.removeAttribute(u)}}l=f.nextNode()}},X=(a,o)=>{const f=document.createTreeWalker(a,NodeFilter.SHOW_COMMENT,null);let l=f.nextNode(),p;for(;l;){if(p=i.exec(l.data)){const u=Array.isArray(o[p[1]])?o[p[1]]:[o[p[1]]];l.replaceWith(...u),f.currentNode=a}l=f.nextNode()}},pe=(a,o)=>{if(!a||!o||a.nodeType!==1||o.nodeType!==1)return;const f=a.attributes,l=o.attributes;for(const{name:p,value:u}of f)(!l[p]||l[p]!==u)&&o.setAttribute(p,u);for(const{name:p}of l)f[p]||o.removeAttribute(p)},S=a=>a.nodeType===3?"text":a.nodeType===8?"comment":a.tagName.toLowerCase(),R=a=>a.childNodes&&a.childNodes.length>0?null:a.textContent,E=(a,o)=>{const f=o?Array.from(o.childNodes):[],l=a?Array.from(a.childNodes):[];let p=f.length-l.length;if(p>0)for(;p>0;p--)f[f.length-p].parentNode.removeChild(f[f.length-p]);l.forEach(function(u,b){const g=f[b];if(pe(u,g),!g){o&&o.appendChild(u);return}if(S(u)!==S(g)){g.replaceWith(u);return}const _=R(u);if(_&&_!==R(g)){g.textContent=_;return}if(g.childNodes.length>0&&u.childNodes.length<1){g.innerHTML="";return}if(g.childNodes.length<1&&u.childNodes.length>0){const j=document.createDocumentFragment();E(u,j),g.appendChild(j);return}if(u.childNodes.length>0){E(u,g);return}})};return{html:(a,...o)=>{let f="";const{length:l}=a;for(let u=1;u<l;u++){const b=o[u-1];let g=!1;if(f+=a[u-1],r.test(f)&&e.test(f)&&(f=f.replace(r,(_,j,Y)=>`${t}${u-1}=${Y||'"'}${j}${Y?"":'"'}`),g=!0),!g)switch(!0){case Array.isArray(b):case b instanceof DocumentFragment:{f+=`<!--${c}${u-1}-->`;break}case(typeof b=="object"&&b!==null):{"html"in b&&(f+=b.html);break}default:f+=b}}f+=a[l-1];const p=A(f.trim());return ne(p,o),X(p,o),p},render:(a,o)=>{a&&!a.children.length?(a.innerHTML="",a.appendChild(o)):E(o,a),h.forEach(f=>{f()}),h=[]}}})();class ue{constructor(e,t){w(this,z,void 0);w(this,U,void 0);N(this,"update");N(this,"emitEvent");L(this,U,e),L(this,z,t)}static get __metadata__(){return{name:"Renderer"}}get shadowRoot(){return n(this,z)}get hostElement(){return n(this,U)}}z=new WeakMap,U=new WeakMap;const Ae={selector:"",root:!1,styles:"",deps:[],standalone:!1},he=(r,e)=>{const t=document.createElement("style");return t.innerHTML=r,e&&e.appendChild(t),t},Ee=(r,e)=>{var t,s,c,i,be,d,ye,A,oe,X;if(r={...Ae,...r},r.styles=r.styles.toString(),r.root&&!M.isRootNodeSet)M.isRootNodeSet=!0,r.styles&&(M.globalStyles.replace(r.styles),M.globalStyleTag=he(r.styles,document.head));else if(r.root&&M.isRootNodeSet)throw Error("Cannot register duplicate root component in "+r.selector+" component");window.customElements.define(r.selector,(X=class extends HTMLElement{constructor(){super();w(this,i);w(this,d);w(this,A);w(this,t,void 0);w(this,s,void 0);w(this,c,void 0);N(this,"renderCount",0);L(this,s,this.attachShadow({mode:"open"})),ee||(n(this,s).adoptedStyleSheets=M.getComputedCss(r.styles,r.standalone)),x(this,i,be).call(this),this.getInstance=this.getInstance.bind(this),this.update=this.update.bind(this)}static get observedAttributes(){return e.observedAttributes||[]}update(){const S=n(this,t).render();typeof S=="string"?n(this,s).innerHTML=Ce(S):le(n(this,s),S),ee&&(r.styles&&n(this,s).insertBefore(n(this,c),n(this,s).childNodes[0]),M.globalStyleTag&&!r.standalone&&n(this,s).insertBefore(document.importNode(M.globalStyleTag,!0),n(this,s).childNodes[0]))}setProps(S){var R,E;for(const[k,I]of Object.entries(S))e.observedProperties.find(a=>a===k)&&(n(this,t)[k]=I);(E=(R=n(this,t)).onPropertiesChanged)==null||E.call(R)}getInstance(){return n(this,t)}connectedCallback(){var S,R,E,k;x(this,d,ye).call(this),(R=(S=n(this,t)).beforeMount)==null||R.call(S),this.update(),(k=(E=n(this,t)).mount)==null||k.call(E),x(this,A,oe).call(this,"bindprops",{setProps:I=>{this.setProps(I)}},!1)}attributeChangedCallback(S,R,E){var k,I;(I=(k=n(this,t)).onAttributesChanged)==null||I.call(k,S,R,E)}disconnectedCallback(){var S,R;this.renderCount=1,(R=(S=n(this,t)).unmount)==null||R.call(S)}},t=new WeakMap,s=new WeakMap,c=new WeakMap,i=new WeakSet,be=function(){const S=new ue(this,n(this,s));S.update=()=>{this.update()},S.emitEvent=(R,E)=>{x(this,A,oe).call(this,R,E)},L(this,t,ce(Te(this,e),r.deps,S))},d=new WeakSet,ye=function(){ee&&r.styles&&L(this,c,he(r.styles))},A=new WeakSet,oe=function(S,R){const E=new CustomEvent(S,{detail:R});this.dispatchEvent(E)},X))},Ne={deps:[]},de=r=>e=>{if(r.selector.indexOf("-")<=0)throw new Error("You need at least 1 dash in the custom element name!");window.customElements.get(r.selector)||Ee(r,e)},re=(r={})=>e=>{if(r={...Ne,...r},r.deps.some(s=>{var c;return((c=s.__metadata__)==null?void 0:c.name)==="Renderer"}))throw Error("Renderer cannot be a dependency for a service. It should be used with component");const t=ce(e,r.deps);y.register(e,t)},Pe=r=>{let e;switch(r.nodeName&&r.nodeName.toLowerCase()){case"input":case"textarea":{["radio","checkbox"].includes(r.type)?e=r.checked?r.value!==null&&r.value!=="on"?r.value:!0:!1:e=r.value;break}case"select":{const t=r.type==="select-one",c=[...Array.from(r.options)].filter(i=>i.selected).map(i=>i.value??(i.textContent.match(/[^\x20\t\r\n\f]+/g)||[]).join(" "));e=t?c[0]:c;break}default:{e=r.value;break}}return e};class _e{constructor(e,t){w(this,G);w(this,J,void 0);w(this,T,void 0);w(this,P,new Map);L(this,J,e),L(this,T,t)}get errors(){return n(this,P)}get valid(){return x(this,G,Se).call(this),!n(this,P).size}get value(){const e={};for(const[t,s]of Object.entries(n(this,T)))e[t]=s.value;return e}get(e){return n(this,T)[e]}reset(e={}){for(const t in n(this,T))n(this,T)[t].value=e[t]||n(this,J)[t];n(this,P).clear()}}J=new WeakMap,T=new WeakMap,P=new WeakMap,G=new WeakSet,Se=function(){n(this,P).clear();for(const e in n(this,T)){const t=n(this,T)[e].value,s=n(this,T)[e].validators;n(this,T)[e].errors=null;for(const c of s){const i=c(t);i!==null&&(n(this,P).has(e)?(n(this,P).set(e,{...n(this,P).get(e),...i}),n(this,T)[e].errors={...n(this,T)[e].errors,...i}):(n(this,P).set(e,i),n(this,T)[e].errors=i))}}};const Le=r=>{const e={},t={};for(const[h,d]of Object.entries(r)){const C=Array.isArray(d)?d:[d];e[h]={value:C.shift(),validators:C},t[h]=e[h].value}const s=new _e(t,e);return[s,h=>d=>{const C=Pe(d.target);s.get(h).value=C},()=>{s.reset()}]},xe=r=>{let e=r;return[e,s=>{let c;v(s)?c=s(e):c=s,Object.assign(e,c)}]};class ke{static required(e){return e.length?null:{required:!0}}static min(e){return t=>t.length>=e?null:{minLength:{requiredLength:e}}}static max(e){return t=>t.length<=e?null:{maxLength:{requiredLength:e}}}static pattern(e){return t=>new RegExp(e).test(t)?null:{pattern:!0}}}const Me=r=>!!r&&typeof r.subscribe=="function",Fe=r=>!!r&&typeof r.then=="function",He=r=>({subscribe:e=>{e(r)}}),Oe=r=>({subscribe:e=>{Promise.resolve(r).then(t=>{e(t)})}});class je{asObservable(){return{subscribe:e=>this.subscribe(e)}}subscribe(e){return this.internalFn=e,this.unsubscribe}unsubscribe(){this._internalFn=null}next(e){this.internalFn(e)}}const fe=r=>Me(r)?r:Fe(r)?Oe(Promise.resolve(r)):He(r),V=class{static checkParams(e,t){let s=0;const c={},i=t.paramCount;for(let h=0;h<e.length;h++){const d=t.params[h];d.indexOf(":")>=0&&(c[d.split(":")[1]]=e[h].split("?")[0],s+=1)}return s===i?c:{}}static getParamCount(e){let t=0;return e.forEach(s=>{s.indexOf(":")>=0&&(t+=1)}),t}static formatRoute(e){const t={params:{},url:"",template:"",paramCount:0,isRegistered:!1,redirectTo:"",preload:e.preload,canActivate:()=>!0};if(t.params=e.path.split("/").filter(s=>s.length>0),t.url=e.path,t.template="",t.redirectTo=e.redirectTo,e.template){if(!e.templatePath)throw Error("templatePath is required in route if template is mentioned.");t.template=e.template,t.templatePath=e.templatePath}e.canActivate&&(t.canActivate=e.canActivate),t.paramCount=V.getParamCount(t.params),V.routeList.push(t)}static preloadRoutes(){for(const e of V.routeList)e.templatePath&&e.templatePath()}static preloadSelectedRoutes(){const e=V.routeList.filter(t=>t.preload===!0);for(const t of e)t.templatePath&&t.templatePath()}};let F=V;N(F,"routeList",[]);class se{constructor(){w(this,K);w(this,Q);w(this,q);w(this,O,{path:"",routeParams:new Map,queryParams:new Map,state:{}});w(this,W,new je);w(this,B,void 0);w(this,$,new Map)}startHashChange(){L(this,B,ae(window,"hashchange",()=>{x(this,K,we).call(this)}))}stopHashChange(){n(this,B).call(this)}getTemplate(){return n(this,W).asObservable()}getCurrentRoute(){return n(this,O)}navigateTo(e="",t){n(this,$).clear(),e?(window.location.hash.replace(/^#/,"")===e&&x(this,q,Z).call(this,e,t),n(this,$).set(e,t),window.location.hash="#"+e):x(this,q,Z).call(this,e,t)}}O=new WeakMap,W=new WeakMap,B=new WeakMap,$=new WeakMap,K=new WeakSet,we=function(){const e=window.location.hash.replace(/^#/,""),t=n(this,$).get(e);x(this,q,Z).call(this,e,t)},Q=new WeakSet,ve=function(e,t){if(e){const s=new RegExp(e.replace(/:[^\s/]+/g,"([\\w-]+)"));return t.match(s)}else return e===t},q=new WeakSet,Z=function(e,t){const s=e.split("/").filter(h=>h.length>0),c=F.routeList.filter(h=>{if(h.params.length===s.length&&x(this,Q,ve).call(this,h.url,e))return h;if(h.url===e)return h}),i=c.length>0?c[0]:null;i&&(n(this,O).path=e,n(this,O).state={...t||{}},fe(i.canActivate()).subscribe(h=>{if(!h)return;const d=F.checkParams(s,i);if(Object.keys(d).length>0||e){n(this,O).routeParams=new Map(Object.entries(d));const C=window.location.hash.split("?")[1]?new URLSearchParams(window.location.hash.split("?")[1]).entries():[];n(this,O).queryParams=new Map(C),i.isRegistered?n(this,W).next(i.template):i.templatePath&&fe(i.templatePath()).subscribe(()=>{i.isRegistered=!0,n(this,W).next(i.template)})}else this.navigateTo(i.redirectTo,t)}))},re()(se);const Ie=()=>{class r{constructor(t){N(this,"template","");N(this,"subscriptions");N(this,"update")}beforeMount(){this.subscriptions=this.internalRouterSrvc.getTemplate().subscribe(t=>{this.template=t}),this.internalRouterSrvc.startHashChange()}mount(){let t=window.location.hash.replace(/^#/,"");this.internalRouterSrvc.navigateTo(t)}unmount(){this.subscriptions(),this.internalRouterSrvc.stopHashChange()}render(){if(this.template){const t=[`${this.template}`];return t.raw=[`${this.template}`],te(t)}else return te``}}de({selector:"router-outlet",deps:[se]})(r)};class me{constructor(e){}getCurrentRoute(){return this.internalRouter.getCurrentRoute()}navigateTo(e,t){this.internalRouter.navigateTo(e,t)}registerRoutes(e,t=!1){if(Array.isArray(e)){for(const s of e)F.formatRoute(s);t?F.preloadRoutes():F.preloadSelectedRoutes()}else throw Error("router.addRoutes: the parameter must be an array")}}return re({deps:[se]})(me),m.Component=de,m.Injectable=re,m.Renderer=ue,m.Router=me,m.Validators=ke,m.fromEvent=ae,m.html=te,m.registerRouterComponent=Ie,m.render=le,m.useFormFields=Le,m.useState=xe,Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),m}({});
