var Pe=Object.defineProperty;var Ne=(u,m,v)=>m in u?Pe(u,m,{enumerable:!0,configurable:!0,writable:!0,value:v}):u[m]=v;var P=(u,m,v)=>(Ne(u,typeof m!="symbol"?m+"":m,v),v),Z=(u,m,v)=>{if(!m.has(u))throw TypeError("Cannot "+v)};var n=(u,m,v)=>(Z(u,m,"read from private field"),v?v.call(u):m.get(u)),w=(u,m,v)=>{if(m.has(u))throw TypeError("Cannot add the same private member more than once");m instanceof WeakSet?m.add(u):m.set(u,v)},E=(u,m,v,O)=>(Z(u,m,"write to private field"),O?O.call(u,v):m.set(u,v),v);var M=(u,m,v)=>(Z(u,m,"access private method"),v);var PlumeJS=function(u){var _,le,j,C,T,U,ue,k,H,W,D,he,z,de,I,B;"use strict";const m=new class{constructor(){P(this,"globalStyles");P(this,"globalStyleTag");P(this,"style_registry");P(this,"isRootNodeSet");try{this.globalStyles=new CSSStyleSheet}catch{this.globalStyles=""}this.isRootNodeSet=!1,this.globalStyleTag=null}getComputedCss(s=""){let e=[];const t=new CSSStyleSheet;if(t.insertRule(":host { display: block; }"),e=[this.globalStyles,t],s){const r=new CSSStyleSheet;r.replace(s),e.push(r)}return e}},{html:v,render:O}=(()=>{const s=/([^\s\\>"'=]+)\s*=\s*(['"]?)$/,e=/<[a-z][^>]+$/i,t="attr",r=/^attr([^ ]+)/,h="insertNode",f=/^insertNode([^ ]+)/;let y=[];const d=o=>{const i={"&":"&amp;","<":"&lt;",">":"&gt;","(":"%28",")":"%29"};let c=JSON.stringify(o);const l=a=>i[a]||a;return c=(a=>a.replace(/[&<>\(\)]/g,l))(c),JSON.parse(c)},S=(o,i)=>{const c=o.options,l=Array.isArray(i)?i:[i];let g,a,b=c.length;for(;b--;){a=c[b];const p=a.getAttribute("value")??(a.textContent.match(/[^\x20\t\r\n\f]+/g)||[]).join(" ");(a.selected=l.indexOf(p)>-1)&&(g=!0)}g||(o.selectedIndex=-1)},R=o=>{const i=document.createElement("template");return i.innerHTML=o,i.content},N=(o,i)=>{const c=document.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,null);let l=c.nextNode();for(;l;){if(l.hasAttributes()){const g=Array.from(l.attributes).filter(a=>r.test(a.nodeName));for(const{nodeName:a,nodeValue:b}of g){const p=r.exec(a)[1];switch(!0){case/^on+/.test(b):{const A=b.slice(2).toLowerCase();l.removeEventListener(A,i[p]),A!=="bindprops"?l.addEventListener(A,i[p]):l.addEventListener(A,x=>{x.detail.setProps(i[p]())});break}case/ref/.test(b):{const A=(x=>{const q=x;return()=>{q.isConnected&&i[p](q)}})(l);y.push(A);break}case/^data-+/.test(b):case/^aria-+/.test(b):{l.setAttribute(b,d(i[p]));break}case/class/.test(b):{i[p]?l.classList.add(...i[p].split(" ")):l.setAttribute("class","");break}case/value/.test(b):{l.nodeName.toLowerCase()==="select"?S(l,i[p]):l.value=d(i[p]);break}case/disabled/.test(b):case/checked/.test(b):{i[p]?l.setAttribute(b,i[p]):l.removeAttribute(b);break}default:l.setAttribute(b,d(i[p]))}l.removeAttribute(a)}}l=c.nextNode()}},L=(o,i)=>{const c=document.createTreeWalker(o,NodeFilter.SHOW_COMMENT,null);let l=c.nextNode(),g;for(;l;){if(g=f.exec(l.data)){const a=Array.isArray(i[g[1]])?i[g[1]]:[i[g[1]]];l.replaceWith(...a),c.currentNode=o}l=c.nextNode()}},$=(o,i)=>{if(!o||!i||o.nodeType!==1||i.nodeType!==1)return;const c=o.attributes,l=i.attributes;for(const{name:g,value:a}of c)/class/.test(g)?Array.from(o.classList).every(b=>{i.classList.contains(b)||i.classList.add(b)}):(!l[g]||l[g]!==a)&&i.setAttribute(g,a);for(const{name:g}of l)/class/.test(g)?Array.from(i.classList).every(a=>{o.classList.contains(a)||i.classList.remove(a)}):c[g]||i.removeAttribute(g)},J=o=>o.nodeType===3?"text":o.nodeType===8?"comment":o.tagName.toLowerCase(),ce=o=>o.childNodes&&o.childNodes.length>0?null:o.textContent,Y=(o,i)=>{const c=i?Array.from(i.childNodes):[],l=o?Array.from(o.childNodes):[];let g=c.length-l.length;if(g>0)for(;g>0;g--)c[c.length-g].parentNode.removeChild(c[c.length-g]);l.forEach(function(a,b){const p=c[b];if($(a,p),!p){i&&i.appendChild(a);return}if(J(a)!==J(p)){p.replaceWith(a);return}const A=ce(a);if(A&&A!==ce(p)){p.textContent=A;return}if(p.childNodes.length>0&&a.childNodes.length<1){p.innerHTML="";return}if(p.childNodes.length<1&&a.childNodes.length>0){const x=document.createDocumentFragment();Y(a,x),p.appendChild(x);return}if(a.childNodes.length>0){Y(a,p);return}})};return{html:(o,...i)=>{let c="";const{length:l}=o;for(let a=1;a<l;a++){const b=i[a-1];let p=!1;if(c+=o[a-1],s.test(c)&&e.test(c)&&(c=c.replace(s,(A,x,q)=>`${t}${a-1}=${q||'"'}${x}${q?"":'"'}`),p=!0),!p)switch(!0){case Array.isArray(b):case b instanceof DocumentFragment:{c+=`<!--${h}${a-1}-->`;break}case(typeof b=="object"&&b!==null):{"html"in b&&(c+=b.html);break}default:c+=b}}c+=o[l-1];const g=R(c.trim());return N(g,i),L(g,i),g},render:(o,i)=>{o&&!o.children.length?(o.innerHTML="",o.appendChild(i)):Y(i,o),y.forEach(c=>{c()}),y=[]}}})(),ee=new(le=class{constructor(){w(this,_,void 0);E(this,_,new WeakMap)}register(s,e){if(!n(this,_).get(s))n(this,_).set(s,e);else throw console.error(s),"service already exists"}getService(s){const e=n(this,_).get(s);if(e)return e;throw console.error(s),"service is not a registered service."}clear(){E(this,_,new WeakMap)}},_=new WeakMap,le),fe=s=>typeof s=="function",me=s=>{const e=s.toString().split(/constructor\s*[^\(]*\(\s*([^\)]*)\)/m);return e.length===3?e[1].split(",").map(t=>t.trim()):[]},G=(()=>{try{return new CSSStyleSheet,!1}catch{return!0}})(),te=(s,e,t,r=!1)=>(s.addEventListener(e,t,r),()=>{s.removeEventListener(e,t,r)}),se=(s,e,t)=>{if(e.length>0){const r=[];for(const y of e)y.__metadata__?r.push(t):r.push(ee.getService(y));const h=me(s),f=new s(...r);return e.forEach((y,d)=>{f[h[d]]=r[d]}),f}else return new s};class K{constructor(){P(this,"shadowRoot");P(this,"update");P(this,"emitEvent")}static get __metadata__(){return{name:"Renderer"}}}const ge={selector:"",root:!1,styles:"",deps:[],standalone:!1},re=(s,e)=>{const t=document.createElement("style");return t.innerHTML=s,e&&e.appendChild(t),t},ne=(s,e)=>{var t,r,h,f;if(!window.customElements.get(s.selector)){if(s={...ge,...s},s.styles=s.styles.toString(),s.root&&!m.isRootNodeSet)m.isRootNodeSet=!0,s.styles&&(m.globalStyles.replace(s.styles),m.globalStyleTag=re(s.styles,document.head));else if(s.root&&m.isRootNodeSet)throw Error("Cannot register duplicate root component in "+s.selector+" component");window.customElements.define(s.selector,(f=class extends HTMLElement{constructor(){super();w(this,t,void 0);w(this,r,void 0);w(this,h,void 0);E(this,r,this.attachShadow({mode:"open"})),G||(n(this,r).adoptedStyleSheets=m.getComputedCss(s.styles,s.standalone)),this.getInstance=this.getInstance.bind(this)}static get observedAttributes(){return e.observedAttributes||[]}emulateComponent(){G&&s.styles&&E(this,h,re(s.styles))}update(){O(n(this,r),(()=>n(this,t).render())()),G&&(s.styles&&n(this,r).insertBefore(n(this,h),n(this,r).childNodes[0]),m.globalStyleTag&&!s.standalone&&n(this,r).insertBefore(document.importNode(m.globalStyleTag,!0),n(this,r).childNodes[0]))}emitEvent(d,S){const R=new CustomEvent(d,{detail:S});this.dispatchEvent(R)}setProps(d){var S,R;for(const[N,L]of Object.entries(d))n(this,t)[N]=L;(R=(S=n(this,t)).onPropsChanged)==null||R.call(S),this.update()}getInstance(){return n(this,t)}connectedCallback(){var S,R,N,L;this.emulateComponent();const d=new K;d.shadowRoot=n(this,r),d.update=()=>{this.update()},d.emitEvent=($,J)=>{this.emitEvent($,J)},E(this,t,se(e,s.deps,d)),(R=(S=n(this,t)).beforeMount)==null||R.call(S),this.update(),(L=(N=n(this,t)).mount)==null||L.call(N),this.emitEvent("bindprops",{setProps:$=>{this.setProps($)}},!1)}attributeChangedCallback(d,S,R){var N,L;(L=(N=n(this,t)).onNativeAttributeChanges)==null||L.call(N,d,S,R)}disconnectedCallback(){var d,S;(S=(d=n(this,t)).unmount)==null||S.call(d)}},t=new WeakMap,r=new WeakMap,h=new WeakMap,f))}},be=s=>{let e;switch(s.nodeName&&s.nodeName.toLowerCase()){case"input":case"textarea":{["radio","checkbox"].includes(s.type)?e=s.checked?s.value!==null&&s.value!=="on"?s.value:!0:!1:e=s.value;break}case"select":{const t=s.type==="select-one",h=[...Array.from(s.options)].filter(f=>f.selected).map(f=>f.value??(f.textContent.match(/[^\x20\t\r\n\f]+/g)||[]).join(" "));e=t?h[0]:h;break}default:{e=s.value;break}}return e};class pe{constructor(e,t){w(this,U);w(this,j,void 0);w(this,C,void 0);w(this,T,new Map);E(this,j,e),E(this,C,t)}get errors(){return n(this,T)}get valid(){return M(this,U,ue).call(this),!n(this,T).size}get value(){const e={};for(const[t,r]of Object.entries(n(this,C)))e[t]=r.value;return e}get(e){return n(this,C)[e]}reset(e={}){for(const t in n(this,C))n(this,C)[t].value=e[t]||n(this,j)[t];n(this,T).clear()}}j=new WeakMap,C=new WeakMap,T=new WeakMap,U=new WeakSet,ue=function(){n(this,T).clear();for(const e in n(this,C)){const t=n(this,C)[e].value,r=n(this,C)[e].validators;n(this,C)[e].errors=null;for(const h of r){const f=h(t);f!==null&&(n(this,T).has(e)?(n(this,T).set(e,{...n(this,T).get(e),...f}),n(this,C)[e].errors={...n(this,C)[e].errors,...f}):(n(this,T).set(e,f),n(this,C)[e].errors=f))}}};const ye=s=>{const e={},t={};for(const[y,d]of Object.entries(s)){const S=Array.isArray(d)?d:[d];e[y]={value:S.shift(),validators:S},t[y]=e[y].value}const r=new pe(t,e);return[r,y=>d=>{const S=be(d.target);r.get(y).value=S},()=>{r.reset()}]},ve=s=>{let e=s;return[e,r=>{let h;fe(r)?h=r(e):h=r,Object.assign(e,h)}]};class Se{static required(e){return e.length?null:{required:!0}}static min(e){return t=>t.length>=e?null:{minLength:{requiredLength:e}}}static max(e){return t=>t.length<=e?null:{maxLength:{requiredLength:e}}}static pattern(e){return t=>new RegExp(e).test(t)?null:{pattern:!0}}}const ie={deps:[]},Q=(...s)=>{let e={...ie},t;if(s[0].hasOwnProperty("deps")?(e={...ie,...s[0]},t=s[1]):t=s[0],t){const r=se(t,e.deps);ee.register(t,r)}else throw new Error("error: Requires constructor to define service")},we=s=>!!s&&typeof s.subscribe=="function",Ce=s=>!!s&&typeof s.then=="function",Te=s=>({subscribe:e=>{e(s)}}),Re=s=>({subscribe:e=>{Promise.resolve(s).then(t=>{e(t)})}});class Ae{asObservable(){return{subscribe:e=>this.subscribe(e)}}subscribe(e){return this.internalFn=e,this.unsubscribe}unsubscribe(){this._internalFn=null}next(e){this.internalFn(e)}}const ae=s=>we(s)?s:Ce(s)?Re(Promise.resolve(s)):Te(s),V=class{static checkParams(e,t){let r=0,h={},f=t.ParamCount;for(let d=0;d<e.length;d++){var y=t.Params[d];y.indexOf(":")>=0&&(h[y.split(":")[1]]=e[d].split("?")[0],r+=1)}return r===f?h:{}}static getParamCount(e){let t=0;return e.forEach(r=>{r.indexOf(":")>=0&&(t+=1)}),t}static formatRoute(e){let t={Params:{},Url:"",Template:"",ParamCount:0,IsRegistered:!1,redirectTo:"",canActivate:()=>!0};if(t.Params=e.path.split("/").filter(r=>r.length>0),t.Url=e.path,t.Template="",t.redirectTo=e.redirectTo,e.template){if(!e.templatePath)throw Error("templatePath is required in route if template is mentioned.");t.Template=e.template,t.TemplatePath=e.templatePath}e.canActivate&&(t.canActivate=e.canActivate),t.ParamCount=V.getParamCount(t.Params),V.routeList.push(t)}static preloadRoutes(){for(const e of V.routeList)e.TemplatePath&&e.TemplatePath()}};let F=V;P(F,"routeList",[]);class X{constructor(){w(this,D);w(this,z);w(this,I);w(this,k,{path:"",routeParams:new Map,queryParams:new Map,state:{}});w(this,H,new Ae);w(this,W,void 0)}startHashChange(){E(this,W,te(window,"hashchange",()=>{M(this,D,he).call(this)}))}stopHashChange(){n(this,W).call(this)}getTemplate(){return n(this,H).asObservable()}getCurrentRoute(){return n(this,k)}navigateTo(e="",t){e?(window.location.hash.replace(/^#/,"")===e&&M(this,I,B).call(this,e,t),window.location.hash="#"+e):M(this,I,B).call(this,e,t)}}k=new WeakMap,H=new WeakMap,W=new WeakMap,D=new WeakSet,he=function(){const e=window.location.hash.replace(/^#/,"");M(this,I,B).call(this,e,null)},z=new WeakSet,de=function(e,t){if(e){let r=new RegExp(e.replace(/:[^\s/]+/g,"([\\w-]+)"));return t.match(r)}else return e===t},I=new WeakSet,B=function(e,t){let r=e.split("/").filter(y=>y.length>0),h=F.routeList.filter(y=>{if(y.Params.length===r.length&&M(this,z,de).call(this,y.Url,e))return y;if(y.Url===e)return y}),f=h.length>0?h[0]:null;f&&(n(this,k).path=e,n(this,k).state={...t||{}},ae(f.canActivate()).subscribe(y=>{if(!y)return;let d=F.checkParams(r,f);if(Object.keys(d).length>0||e){n(this,k).routeParams=new Map(Object.entries(d));const S=window.location.hash.split("?")[1]?new URLSearchParams(window.location.hash.split("?")[1]).entries():[];n(this,k).queryParams=new Map(S),f.IsRegistered?n(this,H).next(f.Template):f.TemplatePath&&ae(f.TemplatePath()).subscribe(()=>{f.IsRegistered=!0,n(this,H).next(f.Template)})}else this.navigateTo(f.redirectTo)}))},Q(X);const Ee=()=>{var e,t;class s{constructor(h,f){w(this,e,"");w(this,t,void 0);P(this,"update")}beforeMount(){E(this,t,this.internalRouterSrvc.getTemplate().subscribe(h=>{E(this,e,h),this.renderer.update()})),this.internalRouterSrvc.startHashChange()}mount(){let h=window.location.hash.replace(/^#/,"");this.internalRouterSrvc.navigateTo(h)}unmount(){n(this,t).call(this),this.internalRouterSrvc.stopHashChange()}render(){if(n(this,e)){const h=[`${n(this,e)}`];return h.raw=[`${n(this,e)}`],v(h)}else return v``}}e=new WeakMap,t=new WeakMap,ne({selector:"router-outlet",deps:[X,K]},s)};class oe{constructor(e){}getCurrentRoute(){return this.internalRouter.getCurrentRoute()}navigateTo(e,t){this.internalRouter.navigateTo(e,t)}registerRoutes(e,t=!1){if(Array.isArray(e)){for(let r of e)F.formatRoute(r);t&&F.preloadRoutes()}else throw Error("router.addRoutes: the parameter must be an array")}}return Q({deps:[X]},oe),u.Component=ne,u.Renderer=K,u.Router=oe,u.Service=Q,u.Validators=Se,u.fromNativeEvent=te,u.html=v,u.registerRouterComponent=Ee,u.render=O,u.useFormFields=ye,u.useState=ve,Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),u}({});
