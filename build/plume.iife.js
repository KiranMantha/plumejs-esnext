var Me=Object.defineProperty;var Fe=(m,w,v)=>w in m?Me(m,w,{enumerable:!0,configurable:!0,writable:!0,value:v}):m[w]=v;var L=(m,w,v)=>(Fe(m,typeof w!="symbol"?w+"":w,v),v),se=(m,w,v)=>{if(!w.has(m))throw TypeError("Cannot "+v)};var n=(m,w,v)=>(se(m,w,"read from private field"),v?v.call(m):w.get(m)),C=(m,w,v)=>{if(w.has(m))throw TypeError("Cannot add the same private member more than once");w instanceof WeakSet?w.add(m):w.set(m,v)},P=(m,w,v,W)=>(se(m,w,"write to private field"),W?W.call(m,v):w.set(m,v),v);var O=(m,w,v)=>(se(m,w,"access private method"),v);var PlumeJS=function(m){var k,he,$,q,D,R,T,J,fe,M,I,z,B,me,Y,ge,V,K;"use strict";const w=new(he=class{constructor(){C(this,k,void 0);P(this,k,new WeakMap)}register(t,e){if(!n(this,k).get(t))n(this,k).set(t,e);else throw console.error(t),"service already exists"}getService(t){const e=n(this,k).get(t);if(e)return e;throw console.error(t),"service is not a registered service."}clear(){P(this,k,new WeakMap)}},k=new WeakMap,he),v=t=>typeof t=="function",W=t=>{const e=t.toString().split(/constructor\s*[^\(]*\(\s*([^\)]*)\)/m);return e.length===3?e[1].split(",").map(s=>s.trim()):[]},Q=(()=>{try{return new CSSStyleSheet,!1}catch{return!0}})(),re=(t,e,s,r=!1)=>(t.addEventListener(e,s,r),()=>{t.removeEventListener(e,s,r)}),be=t=>{const e=()=>new DOMParser().parseFromString(t,"text/html").body||document.createElement("body"),s=i=>{const g=i.querySelectorAll("script");for(const S of g)S.remove()},r=(i,g)=>{if(g=g.replace(/\s+/g,"").toLowerCase(),["src","href","xlink:href"].includes(i)&&(g.includes("javascript:")||g.includes("data:"))||i.startsWith("on"))return!0},c=i=>{const g=i.attributes;for(const{name:S,value:A}of g)r(S,A)&&i.removeAttribute(S)},o=i=>{const g=i.children;for(const S of g)c(S),o(S)},u=e();return s(u),o(u),u.innerHTML},pe=function(t){t.debounce&&window.cancelAnimationFrame(t.debounce),t.debounce=window.requestAnimationFrame(function(){t.update()})},ye=(t,e)=>{const s=W(e);return t.debounce=null,class extends e{constructor(...r){return super(...r),r.forEach((c,o)=>{this[s[o]]=c}),new Proxy(this,{get(c,o,u){window.debug&&console.log("proxiedklass getter",c,o);try{return Reflect.get(c,o,u)}catch{return this[o]}},set(c,o,u,i){window.debug&&console.log("proxiedklass setter",c,o);try{Reflect.set(c,o,u,i)}catch{this[o]=u}return pe(t),!0},deleteProperty(c,o){window.debug&&console.log("proxiedklass deleteprop"),Reflect.deleteProperty(c,o)}})}}},ne=(t,e,s)=>{if(e.length>0){const r=[];for(const u of e)u.__metadata__?r.push(s):r.push(w.getService(u));const c=W(t),o=new t(...r);return e.forEach((u,i)=>{o[c[i]]=r[i]}),o}else return new t},_=new class{constructor(){L(this,"globalStyles");L(this,"globalStyleTag");L(this,"style_registry");L(this,"isRootNodeSet");try{this.globalStyles=new CSSStyleSheet}catch{this.globalStyles=""}this.isRootNodeSet=!1,this.globalStyleTag=null}getComputedCss(t=""){let e=[];const s=new CSSStyleSheet;if(s.insertRule(":host { display: block; }"),e=[this.globalStyles,s],t){const r=new CSSStyleSheet;r.replace(t),e.push(r)}return e}},{html:X,render:ie}=(()=>{const t=/([^\s\\>"'=]+)\s*=\s*(['"]?)$/,e=/<[a-z][^>]+$/i,s="attr",r=/^attr([^ ]+)/,c="insertNode",o=/^insertNode([^ ]+)/;let u=[];const i=h=>{const a={"&":"&amp;","<":"&lt;",">":"&gt;","(":"%28",")":"%29"};let f=JSON.stringify(h);const d=l=>a[l]||l;return f=(l=>l.replace(/[&<>\(\)]/g,d))(f),JSON.parse(f)},g=(h,a)=>{const f=h.options,d=Array.isArray(a)?a:[a];let b,l,p=f.length;for(;p--;){l=f[p];const y=l.getAttribute("value")??(l.textContent.match(/[^\x20\t\r\n\f]+/g)||[]).join(" ");(l.selected=d.indexOf(y)>-1)&&(b=!0)}b||(h.selectedIndex=-1)},S=h=>{const a=document.createElement("template");return a.innerHTML=h,a.content},A=(h,a)=>{const f=document.createTreeWalker(h,NodeFilter.SHOW_ELEMENT,null);let d=f.nextNode();for(;d;){if(d.hasAttributes()){const b=Array.from(d.attributes).filter(l=>r.test(l.nodeName));for(const{nodeName:l,nodeValue:p}of b){const y=r.exec(l)[1];switch(!0){case/^on+/.test(p):{const E=p.slice(2).toLowerCase();d.removeEventListener(E,a[y]),E!=="bindprops"?d.addEventListener(E,a[y]):d.addEventListener(E,F=>{F.detail.setProps(a[y]())});break}case/ref/.test(p):{const E=(F=>{const U=F;return()=>{U.isConnected&&a[y](U)}})(d);u.push(E);break}case/^data-+/.test(p):case/^aria-+/.test(p):{d.setAttribute(p,i(a[y]));break}case/class/.test(p):{a[y]?d.classList.add(...a[y].split(" ")):d.setAttribute("class","");break}case/value/.test(p):{d.nodeName.toLowerCase()==="select"?g(d,a[y]):d.value=i(a[y]);break}case/disabled/.test(p):case/checked/.test(p):{a[y]?d.setAttribute(p,a[y]):d.removeAttribute(p);break}default:d.setAttribute(p,i(a[y]))}d.removeAttribute(l)}}d=f.nextNode()}},N=(h,a)=>{const f=document.createTreeWalker(h,NodeFilter.SHOW_COMMENT,null);let d=f.nextNode(),b;for(;d;){if(b=o.exec(d.data)){const l=Array.isArray(a[b[1]])?a[b[1]]:[a[b[1]]];d.replaceWith(...l),f.currentNode=h}d=f.nextNode()}},H=(h,a)=>{if(!h||!a||h.nodeType!==1||a.nodeType!==1)return;const f=h.attributes,d=a.attributes;for(const{name:b,value:l}of f)/class/.test(b)?Array.from(h.classList).every(p=>{a.classList.contains(p)||a.classList.add(p)}):(!d[b]||d[b]!==l)&&a.setAttribute(b,l);for(const{name:b}of d)/class/.test(b)?Array.from(a.classList).every(l=>{h.classList.contains(l)||a.classList.remove(l)}):f[b]||a.removeAttribute(b)},G=h=>h.nodeType===3?"text":h.nodeType===8?"comment":h.tagName.toLowerCase(),de=h=>h.childNodes&&h.childNodes.length>0?null:h.textContent,te=(h,a)=>{const f=a?Array.from(a.childNodes):[],d=h?Array.from(h.childNodes):[];let b=f.length-d.length;if(b>0)for(;b>0;b--)f[f.length-b].parentNode.removeChild(f[f.length-b]);d.forEach(function(l,p){const y=f[p];if(H(l,y),!y){a&&a.appendChild(l);return}if(G(l)!==G(y)){y.replaceWith(l);return}const E=de(l);if(E&&E!==de(y)){y.textContent=E;return}if(y.childNodes.length>0&&l.childNodes.length<1){y.innerHTML="";return}if(y.childNodes.length<1&&l.childNodes.length>0){const F=document.createDocumentFragment();te(l,F),y.appendChild(F);return}if(l.childNodes.length>0){te(l,y);return}})};return{html:(h,...a)=>{let f="";const{length:d}=h;for(let l=1;l<d;l++){const p=a[l-1];let y=!1;if(f+=h[l-1],t.test(f)&&e.test(f)&&(f=f.replace(t,(E,F,U)=>`${s}${l-1}=${U||'"'}${F}${U?"":'"'}`),y=!0),!y)switch(!0){case Array.isArray(p):case p instanceof DocumentFragment:{f+=`<!--${c}${l-1}-->`;break}case(typeof p=="object"&&p!==null):{"html"in p&&(f+=p.html);break}default:f+=p}}f+=h[d-1];const b=S(f.trim());return A(b,a),N(b,a),b},render:(h,a)=>{h&&!h.children.length?(h.innerHTML="",h.appendChild(a)):te(a,h),u.forEach(f=>{f()}),u=[]}}})();class oe{constructor(e,s){C(this,$,void 0);C(this,q,void 0);L(this,"emitEvent");P(this,q,e),P(this,$,s)}static get __metadata__(){return{name:"Renderer"}}get shadowRoot(){return n(this,$)}get hostElement(){return n(this,q)}}$=new WeakMap,q=new WeakMap;const we={selector:"",root:!1,styles:"",deps:[],standalone:!1},ae=(t,e)=>{const s=document.createElement("style");return s.innerHTML=t,e&&e.appendChild(s),s},ve=(t,e)=>{var s,r,c,o;if(t={...we,...t},t.styles=t.styles.toString(),t.root&&!_.isRootNodeSet)_.isRootNodeSet=!0,t.styles&&(_.globalStyles.replace(t.styles),_.globalStyleTag=ae(t.styles,document.head));else if(t.root&&_.isRootNodeSet)throw Error("Cannot register duplicate root component in "+t.selector+" component");window.customElements.define(t.selector,(o=class extends HTMLElement{constructor(){super();C(this,s,void 0);C(this,r,void 0);C(this,c,void 0);P(this,r,this.attachShadow({mode:"open"})),Q||(n(this,r).adoptedStyleSheets=_.getComputedCss(t.styles,t.standalone)),this.getInstance=this.getInstance.bind(this)}static get observedAttributes(){return e.observedAttributes||[]}emulateComponent(){Q&&t.styles&&P(this,c,ae(t.styles))}update(){const i=n(this,s).render();typeof i=="string"?n(this,r).innerHTML=be(i):ie(n(this,r),i),Q&&(t.styles&&n(this,r).insertBefore(n(this,c),n(this,r).childNodes[0]),_.globalStyleTag&&!t.standalone&&n(this,r).insertBefore(document.importNode(_.globalStyleTag,!0),n(this,r).childNodes[0]))}emitEvent(i,g){const S=new CustomEvent(i,{detail:g});this.dispatchEvent(S)}setProps(i){var g,S;for(const[A,N]of Object.entries(i))e.observedProperties.find(H=>H===A)&&(n(this,s)[A]=N);(S=(g=n(this,s)).onPropertiesChanged)==null||S.call(g)}getInstance(){return n(this,s)}connectedCallback(){var g,S,A,N;this.emulateComponent();const i=new oe(this,n(this,r));i.emitEvent=(H,G)=>{this.emitEvent(H,G)},P(this,s,ne(ye(this,e),t.deps,i)),(S=(g=n(this,s)).beforeMount)==null||S.call(g),(N=(A=n(this,s)).mount)==null||N.call(A),this.emitEvent("bindprops",{setProps:H=>{this.setProps(H)}},!1)}attributeChangedCallback(i,g,S){var A,N;(N=(A=n(this,s)).onAttributesChanged)==null||N.call(A,i,g,S)}disconnectedCallback(){var i,g;(g=(i=n(this,s)).unmount)==null||g.call(i)}},s=new WeakMap,r=new WeakMap,c=new WeakMap,o))},Se={deps:[]},ce=t=>e=>{if(t.selector.indexOf("-")<=0)throw new Error("You need at least 1 dash in the custom element name!");window.customElements.get(t.selector)||ve(t,e)},Z=(t={})=>e=>{if(t={...Se,...t},t.deps.some(r=>{var c;return((c=r.__metadata__)==null?void 0:c.name)==="Renderer"}))throw Error("Renderer cannot be a dependency for a service. It should be used with component");const s=ne(e,t.deps);w.register(e,s)},Ce=t=>{let e;switch(t.nodeName&&t.nodeName.toLowerCase()){case"input":case"textarea":{["radio","checkbox"].includes(t.type)?e=t.checked?t.value!==null&&t.value!=="on"?t.value:!0:!1:e=t.value;break}case"select":{const s=t.type==="select-one",c=[...Array.from(t.options)].filter(o=>o.selected).map(o=>o.value??(o.textContent.match(/[^\x20\t\r\n\f]+/g)||[]).join(" "));e=s?c[0]:c;break}default:{e=t.value;break}}return e};class Re{constructor(e,s){C(this,J);C(this,D,void 0);C(this,R,void 0);C(this,T,new Map);P(this,D,e),P(this,R,s)}get errors(){return n(this,T)}get valid(){return O(this,J,fe).call(this),!n(this,T).size}get value(){const e={};for(const[s,r]of Object.entries(n(this,R)))e[s]=r.value;return e}get(e){return n(this,R)[e]}reset(e={}){for(const s in n(this,R))n(this,R)[s].value=e[s]||n(this,D)[s];n(this,T).clear()}}D=new WeakMap,R=new WeakMap,T=new WeakMap,J=new WeakSet,fe=function(){n(this,T).clear();for(const e in n(this,R)){const s=n(this,R)[e].value,r=n(this,R)[e].validators;n(this,R)[e].errors=null;for(const c of r){const o=c(s);o!==null&&(n(this,T).has(e)?(n(this,T).set(e,{...n(this,T).get(e),...o}),n(this,R)[e].errors={...n(this,R)[e].errors,...o}):(n(this,T).set(e,o),n(this,R)[e].errors=o))}}};const Ae=t=>{const e={},s={};for(const[u,i]of Object.entries(t)){const g=Array.isArray(i)?i:[i];e[u]={value:g.shift(),validators:g},s[u]=e[u].value}const r=new Re(s,e);return[r,u=>i=>{const g=Ce(i.target);r.get(u).value=g},()=>{r.reset()}]},Te=t=>{let e=t;return[e,r=>{let c;v(r)?c=r(e):c=r,Object.assign(e,c)}]};class Ee{static required(e){return e.length?null:{required:!0}}static min(e){return s=>s.length>=e?null:{minLength:{requiredLength:e}}}static max(e){return s=>s.length<=e?null:{maxLength:{requiredLength:e}}}static pattern(e){return s=>new RegExp(e).test(s)?null:{pattern:!0}}}const Pe=t=>!!t&&typeof t.subscribe=="function",Le=t=>!!t&&typeof t.then=="function",Ne=t=>({subscribe:e=>{e(t)}}),_e=t=>({subscribe:e=>{Promise.resolve(t).then(s=>{e(s)})}});class xe{asObservable(){return{subscribe:e=>this.subscribe(e)}}subscribe(e){return this.internalFn=e,this.unsubscribe}unsubscribe(){this._internalFn=null}next(e){this.internalFn(e)}}const le=t=>Pe(t)?t:Le(t)?_e(Promise.resolve(t)):Ne(t),j=class{static checkParams(e,s){let r=0;const c={},o=s.paramCount;for(let u=0;u<e.length;u++){const i=s.params[u];i.indexOf(":")>=0&&(c[i.split(":")[1]]=e[u].split("?")[0],r+=1)}return r===o?c:{}}static getParamCount(e){let s=0;return e.forEach(r=>{r.indexOf(":")>=0&&(s+=1)}),s}static formatRoute(e){const s={params:{},url:"",template:"",paramCount:0,isRegistered:!1,redirectTo:"",preload:e.preload,canActivate:()=>!0};if(s.params=e.path.split("/").filter(r=>r.length>0),s.url=e.path,s.template="",s.redirectTo=e.redirectTo,e.template){if(!e.templatePath)throw Error("templatePath is required in route if template is mentioned.");s.template=e.template,s.templatePath=e.templatePath}e.canActivate&&(s.canActivate=e.canActivate),s.paramCount=j.getParamCount(s.params),j.routeList.push(s)}static preloadRoutes(){for(const e of j.routeList)e.templatePath&&e.templatePath()}static preloadSelectedRoutes(){const e=j.routeList.filter(s=>s.preload===!0);for(const s of e)s.templatePath&&s.templatePath()}};let x=j;L(x,"routeList",[]);class ee{constructor(){C(this,B);C(this,Y);C(this,V);C(this,M,{path:"",routeParams:new Map,queryParams:new Map,state:{}});C(this,I,new xe);C(this,z,void 0)}startHashChange(){P(this,z,re(window,"hashchange",()=>{O(this,B,me).call(this)}))}stopHashChange(){n(this,z).call(this)}getTemplate(){return n(this,I).asObservable()}getCurrentRoute(){return n(this,M)}navigateTo(e="",s){e?(window.location.hash.replace(/^#/,"")===e&&O(this,V,K).call(this,e,s),window.location.hash="#"+e):O(this,V,K).call(this,e,s)}}M=new WeakMap,I=new WeakMap,z=new WeakMap,B=new WeakSet,me=function(){const e=window.location.hash.replace(/^#/,"");O(this,V,K).call(this,e,null)},Y=new WeakSet,ge=function(e,s){if(e){const r=new RegExp(e.replace(/:[^\s/]+/g,"([\\w-]+)"));return s.match(r)}else return e===s},V=new WeakSet,K=function(e,s){const r=e.split("/").filter(u=>u.length>0),c=x.routeList.filter(u=>{if(u.params.length===r.length&&O(this,Y,ge).call(this,u.url,e))return u;if(u.url===e)return u}),o=c.length>0?c[0]:null;o&&(n(this,M).path=e,n(this,M).state={...s||{}},le(o.canActivate()).subscribe(u=>{if(!u)return;const i=x.checkParams(r,o);if(Object.keys(i).length>0||e){n(this,M).routeParams=new Map(Object.entries(i));const g=window.location.hash.split("?")[1]?new URLSearchParams(window.location.hash.split("?")[1]).entries():[];n(this,M).queryParams=new Map(g),o.isRegistered?n(this,I).next(o.template):o.templatePath&&le(o.templatePath()).subscribe(()=>{o.isRegistered=!0,n(this,I).next(o.template)})}else this.navigateTo(o.redirectTo,s)}))},Z()(ee);const ke=()=>{class t{constructor(s){L(this,"template","");L(this,"subscriptions");L(this,"update")}beforeMount(){this.subscriptions=this.internalRouterSrvc.getTemplate().subscribe(s=>{this.template=s}),this.internalRouterSrvc.startHashChange()}mount(){let s=window.location.hash.replace(/^#/,"");this.internalRouterSrvc.navigateTo(s)}unmount(){this.subscriptions(),this.internalRouterSrvc.stopHashChange()}render(){if(this.template){const s=[`${this.template}`];return s.raw=[`${this.template}`],X(s)}else return X``}}ce({selector:"router-outlet",deps:[ee]})(t)};class ue{constructor(e){}getCurrentRoute(){return this.internalRouter.getCurrentRoute()}navigateTo(e,s){this.internalRouter.navigateTo(e,s)}registerRoutes(e,s=!1){if(Array.isArray(e)){for(const r of e)x.formatRoute(r);s?x.preloadRoutes():x.preloadSelectedRoutes()}else throw Error("router.addRoutes: the parameter must be an array")}}return Z({deps:[ee]})(ue),m.Component=ce,m.Injectable=Z,m.Renderer=oe,m.Router=ue,m.Validators=Ee,m.fromEvent=re,m.html=X,m.registerRouterComponent=ke,m.render=ie,m.useFormFields=Ae,m.useState=Te,Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),m}({});
